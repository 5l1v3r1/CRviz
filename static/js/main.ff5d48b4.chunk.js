(this.webpackJsonpCRviz=this.webpackJsonpCRviz||[]).push([[0],{12:function(e,t,a){"use strict";a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"m",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"n",(function(){return h})),a.d(t,"e",(function(){return O})),a.d(t,"k",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"l",(function(){return m})),a.d(t,"i",(function(){return b})),a.d(t,"c",(function(){return j})),a.d(t,"j",(function(){return g})),a.d(t,"d",(function(){return y}));var n,r=a(3),o=a(8),i=a(16),s=a(161),c=Object(i.a)("SET_CONTROLS"),l=Object(i.a)("SET_START_DATASET"),d=Object(i.a)("SET_END_DATASET"),u=Object(i.a)("SET_HIERARCHY_CONFIG"),p=Object(i.a)("SHOW_NODES"),h=Object(i.a)("USE_DARK_THEME"),f=Object(i.a)("COLOR_BY"),m=Object(i.a)("SHOW_BUSY"),b=Object(i.a)("POSITION"),g=Object(i.a)("SETSELECTEDDATUM"),v=Object(s.a)((n={},Object(r.a)(n,c,(function(e,t){var a=t.payload,n=a.hierarchyConfig||e.hierarchyConfig,r="shouldShowNodes"in a?!!a.shouldShowNodes:e.shouldShowNodes,i="darkTheme"in a?!!a.darkTheme:e.darkTheme,s=a.colorBy||e.colorBy,c=a.start||e.start,l=a.end||e.end,d="showBusy"in a?!!a.showBusy:e.showBusy,u=a.position||e.position;return Object(o.a)({},e,{hierarchyConfig:n,shouldShowNodes:r,darkTheme:i,colorBy:s,start:c,end:l,showBusy:d,position:u})})),Object(r.a)(n,l,(function(e,t){var a=t.payload;return Object(o.a)({},e,{start:a})})),Object(r.a)(n,d,(function(e,t){var a=t.payload;return Object(o.a)({},e,{end:a})})),Object(r.a)(n,u,(function(e,t){var a=t.payload;return Object(o.a)({},e,{hierarchyConfig:a})})),Object(r.a)(n,p,(function(e,t){var a=t.payload;return Object(o.a)({},e,{shouldShowNodes:!!a})})),Object(r.a)(n,h,(function(e,t){var a=t.payload;return Object(o.a)({},e,{darkTheme:!!a})})),Object(r.a)(n,f,(function(e,t){var a=t.payload;return Object(o.a)({},e,{colorBy:a})})),Object(r.a)(n,m,(function(e,t){var a=t.payload;return Object(o.a)({},e,{showBusy:!!a})})),Object(r.a)(n,b,(function(e,t){var a=t.payload;return Object(o.a)({},e,{position:a})})),Object(r.a)(n,g,(function(e,t){var a=t.payload;return Object(o.a)({},e,{selectedDatum:a})})),n),{hierarchyConfig:[],shouldShowNodes:!0,darkTheme:!1,colorBy:null,start:null,end:null,showBusy:!1,position:[0,0],datum:null}),O=function(e){return e.controls},j=function(e){return e.controls.position},y=function(e){return e.controls.selectedDatum};t.b=v},154:function(e,t,a){e.exports={listContainer:"AvailableFieldList_listContainer__36HdH",draggableContainer:"AvailableFieldList_draggableContainer__1jpWJ",dragForeignContainer:"AvailableFieldList_dragForeignContainer__qUoBZ",isDraggingOver:"AvailableFieldList_isDraggingOver__jXTLo",field:"AvailableFieldList_field__1IO-f",dragForeign:"AvailableFieldList_dragForeign__1vOCf",groupBy:"AvailableFieldList_groupBy__1kSPM",fieldName:"AvailableFieldList_fieldName__33I5k"}},159:function(e,t,a){e.exports={infoPopup:"ComparisonSelector_infoPopup__240Ac",dupeContainer:"ComparisonSelector_dupeContainer__3C0-X",infoIcon:"ComparisonSelector_infoIcon__3NchJ"}},191:function(e,t,a){e.exports={tags:"NoteSelector_tags__3AR7F",tag:"NoteSelector_tag__1vpw2"}},192:function(e,t,a){e.exports={searchControls:"SearchControls_searchControls__380ec",searchContainer:"SearchControls_searchContainer__3RTnY",search:"SearchControls_search__3qDXJ",label:"SearchControls_label__71Clh"}},246:function(e,t){e.exports="data:image/png;base64,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"},252:function(e,t,a){e.exports={viz:"Visualization_viz__3VNKp",delta:"Visualization_delta__1VBcx",plus:"Visualization_plus__3RYhX",minus:"Visualization_minus__Xc-kq",nag:"Visualization_nag__IglHw",fadein:"Visualization_fadein__3i5Vd"}},254:function(e){e.exports=JSON.parse('[{"name":"Sample: 400 nodes","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/400.json"},{"name":"Sample: 1400 nodes","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/1400.json"},{"name":"Sample: 4000 nodes","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/4000.json"},{"name":"Sample: 500 nodes s0","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/500_s0.json"},{"name":"Sample: 500 nodes s1","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/500_s1.json"},{"name":"Sample: 500 nodes s2","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/500_s2.json"},{"name":"Sample: 1500 nodes s0","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/1500_s0.json"},{"name":"Sample: 1500 nodes s1","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/1500_s1.json"},{"name":"Sample: 1500 nodes s2","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/1500_s2.json"},{"name":"Sample: 5000 nodes s0","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/5000_s0.json"},{"name":"Sample: 5000 nodes s1","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/5000_s1.json"},{"name":"Sample: 5000 nodes s2","url":"https://raw.githubusercontent.com/cyberreboot/CRviz/master/sample_data/5000_s2.json"}]')},264:function(e,t,a){e.exports=a(466)},27:function(e,t,a){e.exports={dataControls:"DatasetControls_dataControls__1C_oE",dataControlHeader:"DatasetControls_dataControlHeader__M1Y_F",selectorContainer:"DatasetControls_selectorContainer__2nmta",uploadContainer:"DatasetControls_uploadContainer__jUCTm",selector:"DatasetControls_selector__2We24",fileUpload:"DatasetControls_fileUpload__Gh_NX",label:"DatasetControls_label__erBn9",utilityContainer:"DatasetControls_utilityContainer__3J6Cj",fileDownload:"DatasetControls_fileDownload__2Kg7m",urlRefreshContainer:"DatasetControls_urlRefreshContainer__3bBD3",datasetSourceContainer:"DatasetControls_datasetSourceContainer__30ylz",urlRefresh:"DatasetControls_urlRefresh__2CHTE",urlContainer:"DatasetControls_urlContainer__2VTWM",urlRefreshTime:"DatasetControls_urlRefreshTime__2xMdM",modal:"DatasetControls_modal__jdZ5v",modalMain:"DatasetControls_modalMain__1QrQI",centerSpan:"DatasetControls_centerSpan__owgfw",sliderContainer:"DatasetControls_sliderContainer__Jh2f5",sliderSelectedScale:"DatasetControls_sliderSelectedScale__3JlNa",slider:"DatasetControls_slider__1d372",sliderScale:"DatasetControls_sliderScale__2amAl",sliderThumb:"DatasetControls_sliderThumb__QDuM1",sliderThumbMin:"DatasetControls_sliderThumbMin__vJPNc",sliderThumbMax:"DatasetControls_sliderThumbMax__1oeoU",slot:"DatasetControls_slot__1gnzO",scaleMark:"DatasetControls_scaleMark__1kqtT",slotScale:"DatasetControls_slotScale__2jOq8",line:"DatasetControls_line__1dPZF",lineSelected:"DatasetControls_lineSelected__2tN_e"}},273:function(e,t,a){},28:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"i",(function(){return d})),a.d(t,"g",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"c",(function(){return b})),a.d(t,"j",(function(){return p})),a.d(t,"e",(function(){return g})),a.d(t,"h",(function(){return h})),a.d(t,"d",(function(){return v}));var n,r=a(3),o=a(8),i=a(31),s=a(16),c=a(161),l=Object(s.a)("ADD_NOTE"),d=Object(s.a)("SET_NOTE"),u=Object(s.a)("REMOVE_NOTE"),p=Object(s.a)("TOGGLE_NOTES_HOVER"),h=Object(s.a)("SET_HOVERED_NOTED"),f=Object(c.a)((n={},Object(r.a)(n,l,(function(e,t){var a=t.payload;return{byId:[].concat(Object(i.a)(e.byId),[a.id]),byHash:Object(o.a)({},e.byHash,Object(r.a)({},a.id,a))}})),Object(r.a)(n,u,(function(e,t){var a=t.payload,n=e.byId.filter((function(e){return e!==a.id}));return delete e.byHash[a.id],{byId:n,byHash:e.byHash}})),Object(r.a)(n,d,(function(e,t){var a=t.payload,n=a.byId||e.byId,r=a.byHash||e.byHash;return Object(o.a)({},e,{byId:n,byHash:r})})),Object(r.a)(n,p,(function(e,t){var a=t.payload;return Object(o.a)({},e,{hoverStatus:a})})),Object(r.a)(n,h,(function(e,t){var a=t.payload;return Object(o.a)({},e,{hoveredNoteId:a})})),n),{byId:[],byHash:{},hoverStatus:!1,hoveredNoteId:""}),m=function(e){return e.notes.byHash},b=function(e){return e.notes},g=function(e){return e.notes.hoverStatus},v=function(e){return e.notes.hoveredNoteId};t.b=f},36:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return l}));var n,r=a(3),o=a(8),i=a(16),s=a(161),c=Object(i.a)("SET_ERROR"),l=Object(i.a)("CLEAR_ERROR"),d=Object(s.a)((n={},Object(r.a)(n,c,(function(e,t){var a=t.payload;if(a instanceof Error){var n=a;return Object(o.a)({},e,{error:n})}return Object(o.a)({},e)})),Object(r.a)(n,l,(function(e){return Object(o.a)({},e,{error:null})})),n),{error:null}),u=function(e){return e.error.error};t.b=d},37:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"g",(function(){return v})),a.d(t,"f",(function(){return h})),a.d(t,"d",(function(){return g})),a.d(t,"h",(function(){return f})),a.d(t,"e",(function(){return m})),a.d(t,"c",(function(){return b}));var n=a(8),r=a(122),o=a(123),i=a(478),s=a(95),c=a(78),l=a(65),d=a(4),u=a(187),p=function(e){return{type:"BUILD_INDICES",payload:e}},h=function(e){return{type:"REMOVE_SEARCH_INDEX",payload:e}},f=function(e){return{type:"SET_SEARCH_RESULTS",payload:e}},m=function(e){return e.search.searchResults||[]},b=function(e){return e.search.queryString},g=function(e){return e.search.searchIndices||[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchIndices:{},queryString:"",searchResults:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BUILD_INDICES_SUCCESS":return t.payload.forEach((function(t){e.searchIndices[t.owner]=t.index})),Object(n.a)({},e);case"SET_SEARCH_RESULTS":var a=t.payload.results,r=t.payload.queryString;return Object(n.a)({},e,{searchResults:a,queryString:r});case"REMOVE_SEARCH_INDEX":var o=t.payload.owner;return e.searchIndices.hasOwnProperty(o)&&delete e.searchIndices[o],Object(n.a)({},e);default:return e}},O=function(e){var t=[];return Object.keys(e.datasets).forEach((function(a){var n=e.datasets[a].dataset,r=Object(o.a)(e.datasets[a].configuration)||Object(i.a)(e.datasets[a].configuration)?Object(d.a)(n):e.datasets[a].configuration,s=function(e,t){var a=[];if(Object(o.a)(t))return a;for(var n in e){var r={CRVIZ_SEARCH_KEY:e[n].CRVIZ._SEARCH_KEY};for(var i in t.fields){var s=t.fields[i];r[s.displayName.toLowerCase()]=j(e[n],s.path)}a.push(r)}return a}(n,r),c=u((function(){var e=this;(this.ref("CRVIZ_SEARCH_KEY"),r&&r.fields)&&r.fields.filter((function(e){return!e.displayName.includes("/")})).map((function(t){return e.field(t.displayName.toLowerCase())}));s.map((function(t){return e.add(t)}))}));t.push({owner:a,index:c})})),t},j=function(e,t){if(e&&t.length>0){for(var a=e[t[0]],n=1;n<t.length;n++){if(!a[t[n]])return null;a=a[t[n]]}return a}return null};t.b=function(e,t){return e.pipe(Object(r.a)("BUILD_INDICES"),Object(c.a)((function(e){var t=e.payload;return Object(s.a)(t).pipe(Object(l.a)(O),Object(l.a)((function(e){return function(e){return{type:"BUILD_INDICES_SUCCESS",payload:e}}(e)})))})))}},4:function(e,t,a){"use strict";a.d(t,"q",(function(){return D})),a.d(t,"o",(function(){return A})),a.d(t,"j",(function(){return q})),a.d(t,"l",(function(){return K})),a.d(t,"i",(function(){return U})),a.d(t,"r",(function(){return F})),a.d(t,"m",(function(){return G})),a.d(t,"n",(function(){return W})),a.d(t,"d",(function(){return N})),a.d(t,"a",(function(){return I})),a.d(t,"t",(function(){return H})),a.d(t,"f",(function(){return X})),a.d(t,"u",(function(){return z})),a.d(t,"g",(function(){return J})),a.d(t,"s",(function(){return L})),a.d(t,"e",(function(){return Q})),a.d(t,"h",(function(){return Y})),a.d(t,"p",(function(){return T})),a.d(t,"k",(function(){return $})),a.d(t,"b",(function(){return R}));var n,r=a(31),o=a(3),i=a(8),s=a(41),c=a(16),l=a(161),d=a(116),u=a(474),p=a(160),h=a(43),f=a(467),m=a(468),b=a(476),g=a(469),v=a(477),O=a(470),j=a(193),y=a(475),E=a(471),C=a(194),S={owner:"",source:null,name:"",shortName:"",dataset:[],keyCount:0,uniqueKeyCount:0,filtered:null,values:{},configuration:{fields:[],keyFields:[],hashFields:[]},isFetching:!1,lastUpdated:null},_=function(e,t){return t&&0!==t.length?e.filter((function(e){return!t.includes(e)})):e},w=function(e,t){var a=[];e.forEach((function(e){"CRVIZ"in e||(e.CRVIZ={}),t.hashFields||(t.hashFields=_(t.fields,t.ignoredFields||[])),function(e,t){var a=e.reduce((function(e,a){return e+Object(d.a)(a.path,t)+":"}),"");t.CRVIZ._HASH_KEY=a}(Array.isArray(t.keyFields)&&t.keyFields.length>0?t.keyFields:t.hashFields,e),function(e,t){var a=e.reduce((function(e,a){return e+Object(d.a)(a.path,t)+"|"}),"");t.CRVIZ._HASH_WITHOUT_IGNORED=a}(t.hashFields,e),function(e,t){var a=e.reduce((function(e,a){return e+Object(d.a)(a.path,t)+":"}),"");t.CRVIZ._SEARCH_KEY=a}(t.fields,e),a.push(e.CRVIZ._HASH_KEY)}));var n=Array.from(new Set(a));return{keyCount:a.length,uniqueKeyCount:n.length}},N=function(e){return e.path.length>=1&&e.path[0]?e.path.join("."):" "},x=function e(t){return Object(u.a)((function(t){var a=Object(s.a)(t,2),n=a[0],r=a[1];return Object(p.a)(Object,r)?Object(h.a)(Object(f.a)([n]),e(r)):[[n]]}),Object(m.a)(t))},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=x(e).filter((function(e){return"CRVIZ"!==e[0]}));return Object(h.a)((function(e){var a=Object(b.a)(Object(g.a)("path",e),t)||{};return Object(v.a)({path:e,displayName:e.join("."),groupable:!0},a)}),a)},I=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=k(e[0]||{},n.fields),o=_(r,a);return Object(i.a)({},n,{fields:k(e[0]||{},n.fields),keyFields:t,hashFields:o})},R=function(e,t,a,n,r,o,i){var s=I(e||[],o,i,r||{}),c=w(e,s);return{dataset:e,source:t,name:a,shortName:n,keyCount:c.keyCount,uniqueKeyCount:c.uniqueKeyCount,filtered:null,values:function(e,t){return Object(O.a)(Object(h.a)((function(t){var a=Object(j.a)(Object(h.a)(Object(d.a)(t.path)),y.a,Object(E.a)(C.a))(e);return[N(t),a]}),t.fields))}(e,s),configuration:s,isFetching:!1,lastUpdated:new Date}},D=Object(c.a)("SET_DATASETS"),A=Object(c.a)("SET_DATASET"),F=Object(c.a)("SET_FILTERED_DATASET"),T=Object(c.a)("SET_DATASET_DIFF"),U=Object(c.a)("REMOVE_DATASET"),M=Object(c.a)("REMOVE_FILTERED_DATASET"),V=Object(c.a)("REMOVE_DATASET_DIFF"),H=Object(c.a)("SET_IS_FETCHING"),z=Object(c.a)("SET_KEY_FIELDS"),L=Object(c.a)("SET_IGNORED_FIELDS"),Z=Object(l.a)((n={},Object(o.a)(n,D,(function(e,t){var a=t.payload.datasets;return Object.keys(a).forEach((function(t){e.datasets[t]=a[t]})),Object(i.a)({},e)})),Object(o.a)(n,A,(function(e,t){var a=t.payload,n=a.dataset,r=a.owner,o=a.source,s=a.name,c=a.shortName,l=a.configuration,d=J(e),u=Q(e);return e.datasets[r]=R(n,o,s,c,l,d,u),Object(i.a)({},e)})),Object(o.a)(n,F,(function(e,t){var a=t.payload,n=a.filtered,r=a.owner;return e.datasets[r].filtered=n,Object(i.a)({},e)})),Object(o.a)(n,T,(function(e,t){var a=t.payload,n=a.start,r=a.end,o=a.differences,s={start:n,end:r,differences:o},c=e.diffs.findIndex((function(e){return e.start===n&&e.end===r}));return-1===c?e.diffs.push(s):e.diffs[c]=s,Object(i.a)({},e)})),Object(o.a)(n,U,(function(e,t){var a=t.payload.owner;return e.datasets.hasOwnProperty(a)&&delete e.datasets[a],Object(i.a)({},e)})),Object(o.a)(n,M,(function(e,t){var a=t.payload.owner;return e.datasets.hasOwnProperty(a)&&(e.datasets[a].filtered=null),Object(i.a)({},e)})),Object(o.a)(n,V,(function(e,t){var a=t.payload,n=a.start,r=a.end,o=e.diffs.findIndex((function(e){return e.start===n&&e.end===r}));return-1!==o&&e.diffs.splice(o,1),Object(i.a)({},e)})),Object(o.a)(n,H,(function(e,t){var a=t.payload,n=a.owner,r=!!a.isFetching;return e.datasets.hasOwnProperty(n)&&(e.datasets[n].isFetching=r),Object(i.a)({},e,{isFetching:r})})),Object(o.a)(n,z,(function(e,t){var a=t.payload,n=a||e.keyFields,r=B(e);return r&&Object.keys(r).forEach((function(e){var t=r[e];t.configuration.keyFields=n;var a=w(t.dataset,t.configuration),o=a.keyCount,i=a.uniqueKeyCount;t.keyCount=o,t.uniqueKeyCount=i})),Object(i.a)({},e,{keyFields:n})})),Object(o.a)(n,L,(function(e,t){var a=t.payload,n=a||e.ignoredFields,r=B(e);if(r&&n){var o=P(e).fields,s=_(o,n);Object.keys(r).forEach((function(e){var t=r[e];t.configuration.hashFields=s;var a=w(t.dataset,t.configuration),n=a.keyCount,o=a.uniqueKeyCount;t.keyCount=n,t.uniqueKeyCount=o}))}return Object(i.a)({},e,{ignoredFields:n})})),n),{datasets:{},diffs:[],keyFields:[],ignoredFields:[]}),B=function(e){return e.datasets||{}},P=function(e){var t=[],a=e.datasets;for(var n in a){var r=!0,o=!1,i=void 0;try{for(var s,c=a[n].configuration.fields[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value;t.some((function(e){return e.displayName===l.displayName}))||t.push(l)}}catch(d){o=!0,i=d}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}return{fields:t}},K=function(e){return B(e.dataset)},q=function(e,t){return e.dataset&&e.dataset.datasets[t]&&e.dataset.datasets[t].dataset?e.dataset.datasets[t].dataset:S.dataset},G=function(e){return P(e.dataset)},W=function(e){var t={},a=e.dataset.datasets;for(var n in a)for(var o in a[n].values)if(t.hasOwnProperty(o)){var i=new Set([].concat(Object(r.a)(t[o]),Object(r.a)(a[n].values[o])));t[o]=Object(r.a)(i)}else t[o]=a[n].values[o];return t},X=function(e,t){return e.dataset.datasets[t]&&e.dataset.datasets[t].isFetching?e.dataset.datasets[t].isFetching:S.isFetching},Y=function(e,t){return e.dataset.datasets[t]&&e.dataset.datasets[t].lastUpdated?e.dataset.datasets[t].lastUpdated:S.lastUpdated},J=function(e){return e.dataset&&e.dataset.keyFields?e.dataset.keyFields:[]},Q=function(e){return e.dataset&&e.dataset.ignoredFields?e.dataset.ignoredFields:[]},$=function(e,t,a){var n=[],r=q(e,t),o=q(e,a);return r.length>0&&0===o.length?(r.forEach((function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1})),n=r):0===r.length&&o.length>0?(o.forEach((function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1})),n=o):r.length>0&&o.length>0&&(r.forEach((function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1;var t=o.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY}));e.CRVIZ._isRemoved=-1===t,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1,n.push(e)})),o.forEach((function(e){e.CRVIZ._isRemoved=!1,e.CRVIZ._isChanged=!1,e.CRVIZ._isAdded=!1;var t=n.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY}));-1===t?(e.CRVIZ._isAdded=!0,n.push(e)):n[t].CRVIZ._HASH_WITHOUT_IGNORED!==e.CRVIZ._HASH_WITHOUT_IGNORED&&(n[t].CRVIZ._isChanged=!0)}))),n};t.c=Z},466:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(53),i=a.n(o),s=a(18),c=(a(273),a(3)),l=a(20),d=a(21),u=a(23),p=a(22),h=a(24),f=a(32),m=a.n(f),b=a(77),g=a.n(b),v=a(513),O=a(242),j=a(6),y=a(7),E=a(4),C=a(12),S=a(28),_=a(36),w=a(37),N=a(16),x=a(95),k=a(14),I=a(78),R=a(473),D=a(65),A=a(258),F=a(92),T=Object(N.a)("UPLOAD_DATASET"),U=function(e,t,a,n,r,o,i){return k.a.create((function(s){var c=i.name,l=new window.FileReader;l.addEventListener("load",(function(){s.next({owner:e,name:t,shortName:a,source:c,includeData:n,includeControls:r,includeNotes:o,file:l.result}),s.complete()})),l.addEventListener("error",(function(){s.error(l.error),s.complete()})),l.readAsText(i)}))},M=function(e){return{owner:e.owner,name:e.name,shortName:e.shortName,source:e.source,content:JSON.parse(e.file),includeData:!("includeData"in e)||e.includeData,includeControls:"includeControls"in e&&e.includeControls,includeNotes:"includeNotes"in e&&e.includeNotes}},V=function(e,t){return e.ofType(T.toString()).pipe(Object(I.a)((function(e){var t=e.payload.owner,a=e.payload.name,n=e.payload.shortName,r=e.payload.file,o=!("includeData"in e.payload)||e.payload.includeData,i="includeControls"in e.payload&&e.payload.includeControls,s="includeNotes"in e.payload&&e.payload.includeNotes;return U(t,a,n,o,i,s,r).pipe(Object(R.a)(500),Object(D.a)(F.a),Object(D.a)(M),Object(D.a)(F.c),Object(A.a)((function(e){if(e instanceof SyntaxError){var t=new Error("Invalid JSON.");return Object(x.a)(Object(_.d)(t))}throw e})))})))},H=a(153),z=a.n(H),L=a(158),Z=a(246),B=a.n(Z),P=a(96),K=a.n(P),q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showInfo:!1},a.hideTooltip=function(){a.setState({showInfo:!1})},a.showTooltip=function(){a.setState({showInfo:!0})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:K.a.header},r.a.createElement("a",{href:"http://www.cyberreboot.org/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:B.a,className:K.a.logo,alt:"Cyber Reboot"})),r.a.createElement("span",{className:K.a.appName},"CRviz"),r.a.createElement("span",{className:K.a.infoIcon},r.a.createElement("label",{id:"showInfo",onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},r.a.createElement(j.a,{icon:y.m})),r.a.createElement(z.a,{active:this.state.showInfo,position:"bottom",parent:"#showInfo",tooltipTimeout:250},r.a.createElement("div",{className:K.a.infoPopup},"About CRviz:",r.a.createElement("br",null),"Home: ",r.a.createElement("a",{href:"https://www.cyberreboot.org/projects/crviz/"},"https://www.cyberreboot.org/projects/crviz/"),r.a.createElement("br",null),"Version: ","0.3.20"," ",r.a.createElement("br",null),"Copyright \xa9 2017-2019 IQT Labs LLC."),r.a.createElement("div",{className:K.a.socialContainer},r.a.createElement("a",{href:"https://github.com/CyberReboot/",alt:"github.com/CyberReboot",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(j.a,{color:"#7d7d7d",icon:L.a})),r.a.createElement("a",{href:"https://twitter.com/_cyberreboot",alt:"twitter.com/_cyberreboot",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(j.a,{color:"#7d7d7d",icon:L.c})),r.a.createElement("a",{href:"https://blog.cyberreboot.org/",alt:"blog.cyberreboot.org",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(j.a,{color:"#7d7d7d",icon:L.b}))))))}}]),t}(r.a.Component),G=a(42),W=a(476),X=a(123),Y=a(194),J=a(486),Q=a(487),$=a(488),ee=a(478),te=a(482),ae=a(483),ne=a(116),re=a(63),oe=a(516);function ie(e){var t,a=e.style,n=e.initialItemText,o=e.subsequentItemText,i=e.displayName,s=e.dragIndex,l=e.animated,d=e.provided;return r.a.createElement("div",null,r.a.createElement("div",Object.assign({className:a.draggable,ref:d.innerRef},d.draggableProps,d.dragHandleProps),r.a.createElement("div",{className:a.field},r.a.createElement("span",{className:m()((t={},Object(c.a)(t,a.groupBy,!0),Object(c.a)(t,a.animated,l),t))},0===s?n:o),r.a.createElement("span",{className:a.fieldName},i))),d.placeholder)}var se=function(e){var t=e.style,a=e.initialItemText,n=e.subsequentItemText,o=e.displayName,i=e.count,s=void 0===i?0:i,c=e.index,l=e.draggableId,d=e.dragIndex,u=e.animated;return r.a.createElement(G.b,{draggableId:l,type:"Field",index:c},(function(e,i){return r.a.createElement(ie,{style:t,initialItemText:a,subsequentItemText:n,displayName:o+" ("+s+")",dragIndex:d,provided:e,animated:u})}))},ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={lastFields:[],toAnimate:null},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({lastFields:this.props.fields})}},{key:"render",value:function(){var e=this,t=this.props,a=t.style,n=t.initialItemText,o=t.subsequentItemText,i=t.fields,s=t.values,c=t.getFieldId,l=t.droppableId,d=t.dragState,u=de(l,d);return r.a.createElement("div",{className:a.listContainer},r.a.createElement(G.c,{droppableId:l,type:"Field"},(function(t,p){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps,{className:a.droppable}),r.a.createElement(le,{style:a,initialItemText:n,subsequentItemText:o,fields:i,values:s,getFieldId:c,droppableId:l,dragState:d,toAnimate:e.state.toAnimate}),u&&d.destination.index!==i.length&&t.placeholder)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.getFieldId,n=Object(te.a)(Object(ae.a)(a),e.fields,t.lastFields)[0];n&&(n=Object(oe.a)(Object(ae.a)(a,n),e.fields)<t.lastFields.length?n:null);return{lastFields:e.fields,toAnimate:n}}}]),t}(r.a.Component);function le(e){var t=e.fields,a=e.values,n=e.getFieldId,o=e.style,i=e.initialItemText,s=e.subsequentItemText,c=e.droppableId,l=e.dragState,d=e.toAnimate;return Object(ee.a)(t)?null:t.map((function(e,t){var u=n(e),p=d&&n(e)===n(d),h=a[u].length;return r.a.createElement(se,{style:o,initialItemText:i,subsequentItemText:s,draggableId:u,key:u,displayName:e.displayName,count:h,index:t,dragIndex:ue(c,l,t),animated:p||!1})}))}var de=function(e,t){return!Object(X.a)(t)&&Object(ne.a)(["destination","droppableId"],t)===e},ue=function(e,t,a){if(!de(e,t))return a;var n=t.source,r=t.destination,o=n.index,i=r.index;return n.droppableId!==r.droppableId?a>=i?a+1:a:a===o?i:a<Math.min(o,i)||a>Math.max(o,i)?a:o<i?a-1:a+1};ce.defaultProps={fields:[]};var pe=ce,he=a(471),fe=a(484),me=a(485),be=a(43),ge=a(8);var ve=function(e){var t=e.style,a=e.displayName,n=e.index,o=e.draggableId;return r.a.createElement(G.b,{draggableId:o,type:"Field",index:n},(function(e,n){return r.a.createElement("span",{className:t.draggableContainer},r.a.createElement("span",Object.assign({className:t.field,ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:Object(ge.a)({},e.draggableProps.style,{transform:n.isDragging?e.draggableProps.style.transform:"none"})}),a))}))};function Oe(e){var t=e.style,a=e.fields,n=e.values,o=e.getFieldId,i=e.droppableId,s=e.dragState;return r.a.createElement(G.c,{droppableId:i,type:"Field"},(function(e,i){var l,d=ye(s,a,o);return r.a.createElement("div",Object.assign({className:m()(t.listContainer,(l={},Object(c.a)(l,t.dragForeign,d),Object(c.a)(l,t.isDraggingOver,i.isDraggingOver),l)),ref:e.innerRef},e.droppableProps),!Object(ee.a)(a)&&Object(he.a)(je(o,n),a).map((function(e,a){var i=o(e),s=n[i].length||0;return r.a.createElement(ve,{style:t,key:i,draggableId:i,displayName:"".concat(e.displayName," (").concat(s,")"),index:a,withPlaceholder:!1})})),d&&r.a.createElement("div",{className:t.dragForeignContainer},r.a.createElement("span",null,r.a.createElement(j.a,{icon:y.w}))))}))}var je=Object(fe.a)((function(e,t,a){return t[e(a)].length})),ye=function(e,t,a){return e&&e.draggableId&&!Object(me.a)(e.draggableId,Object(be.a)(a,t))};Oe.defaultProps={fields:[]};var Ee=Oe;var Ce=function(e){var t,a=e.style,n=e.initialItemText,o=e.subsequentItemText,i=e.droppableId,s=e.isDropDisabled,l=e.fields;return r.a.createElement("div",{className:m()((t={},Object(c.a)(t,a.listContainer,!0),Object(c.a)(t,a.isDropDisabled,s),t))},r.a.createElement("div",{className:a.draggable},r.a.createElement("div",{className:a.field},r.a.createElement("span",{className:a.groupBy},0===l.length?n:o),r.a.createElement(G.c,{isDropDisabled:s,droppableId:i,type:"Field"},(function(e,t){var n;return r.a.createElement("span",Object.assign({ref:e.innerRef},e.droppableProps,{className:m()((n={},Object(c.a)(n,a.dropTarget,!0),Object(c.a)(n,a.isDraggingOver,t.isDraggingOver),n))}),"Drop attribute here")})))))},Se=a(154),_e=a.n(Se),we=a(80),Ne=a.n(we),xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={dragState:null},a.onDragStart=function(e){a.setState({dragState:e})},a.onDragUpdate=function(e){a.setState({dragState:e})},a.onDragEnd=function(e){var t=e.draggableId,n=e.destination;a.setState({dragState:null}),null!==n&&("SelectedFieldList"===n.droppableId?a.updateHierarchy(t,n.index):"DropTarget"===n.droppableId?a.updateHierarchy(t,a.props.controls.hierarchyConfig.length):a.removeField(t))},a.updateHierarchy=function(e,t){var n=a.props.configuration.fields,r=a.props.controls.hierarchyConfig,o=ke(r,e);if(o!==t){var i,s=Object(W.a)((i=e,function(e){return Object(E.d)(e)===i}),n),c=Object(X.a)(o)?Y.a:Object(J.a)(o,1),l=Object(Q.a)(t,s),d=Object($.a)(l,c)(r);a.props.setHierarchyConfig(d)}},a.removeField=function(e){var t=a.props.controls.hierarchyConfig,n=a.props.setHierarchyConfig,r=ke(t,e);null!==r&&n(Object(J.a)(r,1,t)),0===a.props.controls.hierarchyConfig.length&&a.props.showNodes(!0)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){if(null===this.props.configuration)return null;var e=this.props.controls.hierarchyConfig;if(Object(ee.a)(this.props.configuration.fields))return null;var t=Object(te.a)(Object(ae.a)(E.d),this.props.configuration.fields.filter((function(e){return e.groupable})),e),a=this.props.values,n=this.state.dragState;return r.a.createElement("div",null,r.a.createElement(G.a,{onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd},r.a.createElement("div",{style:{marginBottom:"2rem"}},r.a.createElement(pe,{style:Ne.a,initialItemText:"Group By",subsequentItemText:"Then By",fields:e,values:a,droppableId:"SelectedFieldList",getFieldId:E.d,dragState:n}),r.a.createElement(Ce,{style:Ne.a,initialItemText:"Group By",subsequentItemText:"Then By",isDropDisabled:"SelectedFieldList"===Object(ne.a)(["source","droppableId"],n),droppableId:"DropTarget",fields:this.props.controls.hierarchyConfig})),r.a.createElement(Ee,{style:_e.a,fields:t,values:a,droppableId:"AvailableFieldList",getFieldId:E.d,dragState:this.state.dragState})))}}]),t}(r.a.Component),ke=function(e,t){var a=Object($.a)(Object(re.a)(t),E.d),n=Object(oe.a)(a,e);return-1===n?null:n},Ie={setHierarchyConfig:C.h,showNodes:C.m},Re=Object(s.b)((function(e){return{configuration:Object(E.m)(e),values:Object(E.n)(e),controls:Object(C.e)(e)}}),Ie)(xe),De=a(122),Ae=a(489),Fe=function(e){var t=e.start.owner,a=e.start.dataset,n=e.end.owner,r=e.end.dataset,o={added:[],changed:[],removed:[]};return o.added=o.added.concat(r.filter((function(e){return-1===a.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY}))})).map((function(e){return e.CRVIZ._HASH_KEY}))),o.removed=o.removed.concat(a.filter((function(e){return-1===r.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY}))})).map((function(e){return e.CRVIZ._HASH_KEY}))),o.changed=o.changed.concat(r.filter((function(e){return-1!==a.findIndex((function(t){return t.CRVIZ._HASH_KEY===e.CRVIZ._HASH_KEY&&t.CRVIZ._HASH_WITHOUT_IGNORED!==e.CRVIZ._HASH_WITHOUT_IGNORED}))})).map((function(e){return e.CRVIZ._HASH_KEY}))),{start:t,end:n,differences:o}},Te=function(e,t){return e.pipe(Object(De.a)("DIFF_DATASET"),Object(Ae.a)((function(e){var t=e.payload;return Object(x.a)(t).pipe(Object(D.a)(Fe),Object(D.a)((function(e){return Object(E.p)(e)})))})))},Ue=a(159),Me=a.n(Ue),Ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={dragState:null,showDupeTooltip:!1},a.onDragStart=function(e){a.setState({dragState:e})},a.onDragUpdate=function(e){a.setState({dragState:e})},a.onDragEnd=function(e){var t=e.draggableId,n=e.destination;a.setState({dragState:null}),null!==n&&("KeyFieldList"===n.droppableId?a.updateKeyFields(t,n.index):"KeyTarget"===n.droppableId?a.updateKeyFields(t,a.props.keyFields.length):"IgnoredFieldList"===n.droppableId?a.updateIgnoreFields(t,n.index):"IgnoredTarget"===n.droppableId?a.updateIgnoreFields(t,a.props.ignoredFields.length):a.removeField(t))},a.getUpdatedFields=function(e,t,n){var r=a.props.configuration.fields,o=He(n,e);if(o!==t){var i,s=Object(W.a)((i=e,function(e){return Object(E.d)(e)===i}),r),c=Object(X.a)(o)?Y.a:Object(J.a)(o,1),l=Object(Q.a)(t,s);return Object($.a)(l,c)(n)}},a.updateKeyFields=function(e,t){var n=a.props.keyFields,r=a.props.ignoredFields,o=a.getUpdatedFields(e,t,n);o&&(a.props.setKeyFields(o),a.updateDiff(o,r))},a.updateIgnoreFields=function(e,t){var n=a.props.keyFields,r=a.props.ignoredFields,o=a.getUpdatedFields(e,t,r);o&&(a.props.setIgnoredFields(o),a.updateDiff(n,o))},a.removeField=function(e){var t=a.props.keyFields,n=He(t,e),r=a.props.ignoredFields,o=He(r,e),i=null,s=null;null!==n&&(i=Object(J.a)(n,1,t),a.props.setKeyFields(i)),null!==o&&(s=Object(J.a)(o,1,r),a.props.setIgnoredFields(s)),(i||s)&&a.updateDiff(i||t,s||r)},a.updateDiff=function(e,t){if(a.props.start&&a.props.end){var n={start:{owner:a.props.startUuid,dataset:a.props.start},end:{owner:a.props.endUuid,dataset:a.props.end},configuration:a.props.configuration,key:e,ignore:t};a.props.diffDataset(n)}},a.showDupeTooltip=function(){a.setState({showDupeTooltip:!0})},a.hideDupeTooltip=function(){a.setState({showDupeTooltip:!1})},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){if(null===this.props.configuration)return null;var e=this.props.keyInfo,t=e.reduce((function(e,t){return e+t.duplicateCount}),0),a=this.props.keyFields,n=this.props.ignoredFields,o=a?a.concat(n):[];if(Object(ee.a)(this.props.configuration.fields))return null;var i=Object(te.a)(Object(ae.a)(E.d),this.props.configuration.fields.filter((function(e){return e.groupable})),o),s=this.props.values,c=this.state.dragState;return r.a.createElement("div",null,r.a.createElement("div",{className:Me.a.dupeContainer},!!t&&r.a.createElement("span",{className:Me.a.infoIcon},r.a.createElement("div",{id:"showDupeInfo",onMouseEnter:this.showDupeTooltip,onMouseLeave:this.hideDupeTooltip},r.a.createElement(j.a,{icon:y.i,color:"#cc0000"})),r.a.createElement(z.a,{active:this.state.showDupeTooltip,position:"bottom",parent:"#showDupeInfo",tooltipTimeout:250},r.a.createElement("div",{className:Me.a.infoPopup},"Keying on the selected field(s) results in duplicate keys.",r.a.createElement("br",null),e.map((function(e){return r.a.createElement("div",null,r.a.createElement("strong",null,e.name," ")," \u2014 ",e.duplicateCount," duplicates ",r.a.createElement("br",null))})),"This may lead to inaccurate change data being shown. Please verify your key and underlying data.")))),r.a.createElement(G.a,{onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd},r.a.createElement("div",{style:{marginBottom:"2rem"}},r.a.createElement(pe,{style:Ne.a,initialItemText:"Key On",subsequentItemText:"And",fields:a,values:s,droppableId:"KeyFieldList",getFieldId:E.d,dragState:c}),r.a.createElement(Ce,{style:Ne.a,initialItemText:"Key On",subsequentItemText:"And",isDropDisabled:"KeyFieldList"===Object(ne.a)(["source","droppableId"],c),droppableId:"KeyTarget",fields:this.props.keyFields})),r.a.createElement("div",{style:{marginBottom:"2rem"}},r.a.createElement(pe,{style:Ne.a,initialItemText:"Ignore",subsequentItemText:"And",fields:n,values:s,droppableId:"IgnoredFieldList",getFieldId:E.d,dragState:c}),r.a.createElement(Ce,{style:Ne.a,initialItemText:"Ignore",subsequentItemText:"And",isDropDisabled:"IgnoredFieldList"===Object(ne.a)(["source","droppableId"],c),droppableId:"IgnoredTarget",fields:this.props.ignoredFields})),r.a.createElement(Ee,{style:_e.a,fields:i,values:s,droppableId:"AvailableFieldList",getFieldId:E.d,dragState:this.state.dragState})))}}]),t}(r.a.Component),He=function(e,t){var a=Object($.a)(Object(re.a)(t),E.d),n=Object(oe.a)(a,e);return-1===n?null:n},ze={setKeyFields:E.u,setIgnoredFields:E.s,diffDataset:function(e){return{type:"DIFF_DATASET",payload:e}}},Le=Object(s.b)((function(e,t){var a=Object(E.l)(e),n=Object.keys(a).map((function(e){return{owner:e,name:a[e].name,keyCount:isNaN(a[e].keyCount)?0:a[e].keyCount,uniqueKeyCount:isNaN(a[e].uniqueKeyCount)?0:a[e].uniqueKeyCount,duplicateCount:isNaN(a[e].keyCount-a[e].uniqueKeyCount)?0:a[e].keyCount-a[e].uniqueKeyCount}}));return{start:a[t.startUuid],end:a[t.endUuid],keyInfo:n,keyFields:Object(E.g)(e),ignoredFields:Object(E.e)(e),configuration:Object(E.m)(e),values:Object(E.n)(e)}}),ze)(Ve),Ze=a(191),Be=a.n(Ze),Pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).setHoveredNoteId=function(){a.props.hoverMethod(a.props.index),a.props.hoverOn()},a.setClickedNoteId=function(){a.props.hoverMethod(a.props.index),a.props.clickedOn()},a.clicked=!1,a.state={hover:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("li",{onClick:this.setClickedNoteId,onMouseEnter:this.setHoveredNoteId,onMouseLeave:this.props.hoverOff,className:Be.a.tag},this.props.note_title)}}]),t}(r.a.Component),Ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).clickedOn=function(){!1===a.clicked?(a.props.toggleNotesHover(!1),a.clicked=!0):(a.props.toggleNotesHover(!0),a.clicked=!1)},a.hoverOn=function(){a.props.toggleNotesHover(!0)},a.hoverOff=function(){!0===a.clicked?a.props.toggleNotesHover(!0):a.props.toggleNotesHover(!1)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:Be.a.tags},Object.values(this.props.notes).map((function(t){return r.a.createElement(Pe,{key:"".concat(t.id),index:t.id,clicked:e.clicked,note_title:t.note.title,clickedOn:e.clickedOn,hoverOn:e.hoverOn,hoverOff:e.hoverOff,hoverMethod:e.props.setNoteHovered})})))}}]),t}(r.a.Component),qe={toggleNotesHover:S.j,setNoteHovered:S.h},Ge=Object(s.b)((function(e){return{notes:Object(S.f)(e)}}),qe)(Ke),We=a(490),Xe=a(248),Ye=a(491),Je=a(469);var Qe=Object(fe.a)((function(e,t,a){return t[e(a)].length})),$e=Object($.a)(Object(We.a)("."),Object(Xe.a)("path")),et=function(e,t){var a=Object(Ye.a)(".",t);return Object(W.a)(Object(Je.a)("path",a),e)},tt=function(e){var t=e.fields,a=e.values,n=e.getFieldId,o=e.value,i=e.onChange,s=e.className,c=e.name;return r.a.createElement("div",{className:s},r.a.createElement("label",{className:"select"},r.a.createElement("select",{name:c,onChange:function(e){return i(et(t,e.target.value))},value:Object(X.a)(o)?"":$e(o)},r.a.createElement("option",{value:""},"\u2014None\u2014"),Object(he.a)(Qe(n,a),t).map((function(e){var t=n(e);return r.a.createElement("option",{key:t,value:t},e.displayName," (",a[n(e)].length,")")})))))},at=a(58),nt=a.n(at);var rt=Object(s.b)((function(e){return{controls:Object(C.e)(e),configuration:Object(E.m)(e),values:Object(E.n)(e)}}),(function(e){return{showNodes:function(t){return e(Object(C.m)(t))},useDarkTheme:function(t){return e(Object(C.n)(t))},colorBy:function(t){return e(Object(C.a)(t))}}}))((function(e){var t=e.controls,a=e.configuration,n=e.values,o=e.showNodes,i=e.colorBy,s=a.fields.filter((function(e){return e.groupable}));return r.a.createElement("div",{className:nt.a.container},r.a.createElement("div",{className:"".concat(nt.a.checkboxContainer," input-group")},r.a.createElement("div",{className:nt.a.switch},r.a.createElement("input",{type:"checkbox",id:"show-node-check",checked:t.shouldShowNodes,onChange:function(e){return o(e.target.checked)}}),r.a.createElement("label",{htmlFor:"show-node-check",className:nt.a.switchLabel})),r.a.createElement("label",null,"Show nodes")),r.a.createElement("div",{className:"".concat(nt.a.checkboxContainer," input-group")},r.a.createElement("div",{className:nt.a.switch},r.a.createElement("input",{type:"checkbox",id:"dark-theme-check",checked:t.darkTheme,onChange:function(t){return a=t.target.checked,void e.useDarkTheme(a);var a}}),r.a.createElement("label",{htmlFor:"dark-theme-check",className:nt.a.switchLabel})),r.a.createElement("label",null,"Use dark theme")),r.a.createElement("div",{className:"input-group ".concat(nt.a.colorBy)},r.a.createElement("label",{htmlFor:"colorBy"},"Color by"),r.a.createElement("div",{className:nt.a.fieldSelect},r.a.createElement(tt,{name:"colorBy",className:nt.a.selector,onChange:i,fields:s,values:n,getFieldId:E.d,value:t.colorBy}))))})),ot=a(31),it=a(160),st=a(492),ct=a(187),lt=Object(N.a)("SEARCH_DATASET"),dt=function(e){e.results=[];var t=e.queryString||"",a=e.searchIndices,n=[];if(a&&t)for(var r in a){var o=a[r].search(t.toLowerCase()),i=new Set([].concat(Object(ot.a)(n),Object(ot.a)(o)));n=Object(ot.a)(i)}Object.keys(e.datasets).forEach((function(t){var a=e.datasets[t].dataset;a.forEach((function(e){e.CRVIZ._isSearchResult=!1})),n.forEach((function(t){var n=a.find((function(e){return e.CRVIZ._SEARCH_KEY===t.ref}));n&&(n.CRVIZ._isSearchResult=!0,e.results.push(n))}))}))},ut=function(e,t){return e.pipe(Object(De.a)(lt.toString()),Object(I.a)((function(e){var t=e.payload;return Object(x.a)(t).pipe(Object(st.a)(dt),Object(D.a)((function(e){return Object(w.h)({queryString:e.queryString,results:e.results||[]})})),Object(A.a)((function(e){if(Object(it.a)(ct.QueryParseError,e))return Object(x.a)(Object(_.d)(e));throw e})))})))},pt=a(192),ht=a.n(pt),ft={queryString:"",searchIndices:[],hasSearch:!1},mt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=ft,a.handleQueryStringChange=function(e){a.setState({queryString:e.target.value})},a.handleKeyPress=function(e){"Enter"===e.key&&a.handleSearch()},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"handleSearch",value:function(){this.setState({hasSearch:""!==this.state.queryString});var e={datasets:this.props.datasets,configuration:this.props.configuration,searchIndices:this.props.searchIndices,queryString:this.state.queryString,results:this.props.results};this.props.searchDataset(e)}},{key:"clearSearch",value:function(){this.setState(ft,(function(){this.handleSearch()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ht.a.searchContainer},r.a.createElement("span",{className:ht.a.search},r.a.createElement("input",{type:"search",id:"search-string",placeholder:"Search",value:this.state.queryString,onChange:this.handleQueryStringChange,onKeyPress:this.handleKeyPress}),r.a.createElement("label",{htmlFor:"search-string",className:"button circular",onClick:function(){return e.handleSearch()},title:"Search"},r.a.createElement(j.a,{icon:y.r}))),this.state.hasSearch&&r.a.createElement("span",null,r.a.createElement("label",{id:"search-results"}," ",this.props.results.length," Results found "),r.a.createElement("label",{htmlFor:"search-results",className:"button circular",onClick:function(){return e.clearSearch()}},r.a.createElement(j.a,{icon:y.v}))))}}]),t}(r.a.Component),bt={searchDataset:lt},gt=Object(s.b)((function(e,t){return{datasets:Object(E.l)(e),configuration:Object(E.m)(e),searchIndices:Object(w.d)(e),queryString:e.search.queryString,results:Object(w.e)(e)}}),bt)(mt),vt=a(100),Ot=a(1),jt=a(41),yt=a(249),Et=a(250),Ct=a.n(Et),St=a(515),_t=a(504),wt=a(505),Nt=a(247),xt=a(144),kt=a(506),It=a(244),Rt=a(517),Dt=a(493),At=a(494),Ft=a(495),Tt=a(496),Ut=a(514),Mt=a(257),Vt=a(467),Ht=a(497),zt=Object(At.a)(Dt.a),Lt=function(e){e=Pt(Object(be.a)(Pt,e));var t=Object(be.a)(Zt,e),a=Bt(t),n=Object(be.a)(Bt,Object(be.a)(Object(be.a)(Object(Xe.a)("r")),e));return zt((function(e,t){return zt((function(e,r){e.x=n[t][r],e.y=a[t]}),e)}),e)},Zt=function(e){return Math.max.apply(Math,Object(ot.a)(e.map((function(e){return e.r}))))},Bt=function(e){var t=Object(be.a)((function(e){return 2*e}),e),a=0-Object(xt.a)(Ft.a,0,t)/2+e[0];return Object(xt.a)((function(e,t){var a=Object(jt.a)(t,2),n=a[0],r=a[1];return[].concat(Object(ot.a)(e),[Object(Tt.a)(e)+n+r])}),[a],Object(Ut.a)(2,e))},Pt=function(e){var t,a=(t=e,Object(At.a)(Mt.a)((function(e,t){return t%2===0}),t)),n=function(e){return Object(At.a)(Mt.a)((function(e,t){return t%2!==0}),e)}(e);return Object(Vt.a)(Object(Nt.a)(a),n)},Kt=function(e){return Object(Ht.a)(Math.ceil(Math.sqrt(e.length)),e)},qt=function(e){var t=Kt(e);Lt(t);var a=Object(Rt.a)(e);Object(Dt.a)((function(e){e.x-=a.x,e.y-=a.y}),e)},Gt=function(e){return function(t){t.children||(t.r=Math.max(e(t),0))}},Wt=function(e){return function(t){return 2*t.r*e/(1-e)}},Xt=function(e,t,a,n,r){return function(o){if(o.children){var i=o.children,s=i.filter((function(e){return e.height>0}));if(s.length>0){var c=Math.max.apply(Math,Object(ot.a)(s.map(Wt(t))));s.forEach((function(e){e.labelSize=Math.min(c,Wt(a)(e)),e.r+=e.labelSize/2}))}var l=n(o)*r||0;l&&i.forEach((function(e){return e.r+=l})),e(i);var d=Object(Rt.a)(i).r;l&&i.forEach((function(e){return e.r-=l})),o.r=d+l}}},Yt=function(e){return function(t){var a=t.parent;t.r*=e,t.labelSize&&(t.labelSize*=e,t.labelY=t.r-t.labelSize/2,t.labelWidth=2*Math.sqrt(Math.pow(t.r,2)-Math.pow(t.labelY,2))),a&&(t.x=a.x+e*t.x,t.y=a.y+e*t.y,a.labelSize&&(t.y-=a.labelSize/2))}},Jt=function(){var e={radius:null,size:[1,1],padding:function(){return 0},labelRatio:.25,maxLabelRatio:.4,packSiblings:qt},t=function(t){t.x=e.size[0]/2,t.y=e.size[1]/2;var a=e.radius,n=e.size,r=e.labelRatio,o=e.maxLabelRatio,i=e.packSiblings,s="function"===typeof e.padding?e.padding:function(){return e.padding};return a?t.eachBefore(Gt(a)).eachAfter(Xt(i,r,o,s,.5)).eachBefore(Yt(1)):t.eachBefore(Gt((function(e){return Math.sqrt(e.value)}))).eachAfter(Xt(i,r,o,(function(){return 0}),1)).eachAfter(Xt(i,r,o,s,t.r/Math.min.apply(Math,Object(ot.a)(n)))).eachBefore(Yt(Math.min.apply(Math,Object(ot.a)(n))/(2*t.r))),t};return Object.keys(e).forEach((function(a){t[a]=function(){return 0===arguments.length?e[a]:(e[a]=arguments.length<=0?void 0:arguments[0],t)}})),t},Qt=a(474),$t=a(498),ea=a(54),ta=a(510),aa=function(e){return Object(xt.a)((function(e,t){return e.key((function(e){return Object(ne.a)(t.path,e)}))}),Object(ea.b)(),e)},na=function e(t){if(Object(X.a)(t))return 0;var a=0;for(var n in t)"CRVIZ"in t[n]||(t[n].CRVIZ={}),a+=(t[n].CRVIZ._searchResultCount||0)+(t[n].CRVIZ._isSearchResult||0)+(Object(X.a)(t[n].values)?0:e(t[n].values));return a},ra=function e(t){if(Object(X.a)(t))return 0;var a=0;for(var n in t)"CRVIZ"in t[n]||(t[n].CRVIZ={}),a+=(t[n].CRVIZ._addedCount||0)+(t[n].CRVIZ._isAdded||0)+(Object(X.a)(t[n].values)?0:e(t[n].values));return a},oa=function e(t){if(Object(X.a)(t))return 0;var a=0;for(var n in t)"CRVIZ"in t[n]||(t[n].CRVIZ={}),a+=(t[n].CRVIZ._changedCount||0)+(t[n].CRVIZ._isChanged||0)+(Object(X.a)(t[n].values)?0:e(t[n].values));return a},ia=function e(t){if(Object(X.a)(t))return 0;var a=0;for(var n in t)"CRVIZ"in t[n]||(t[n].CRVIZ={}),a+=(t[n].CRVIZ._removedCount||0)+(t[n].CRVIZ._isRemoved||0)+(Object(X.a)(t[n].values)?0:e(t[n].values));return a},sa=function e(t,a,n,r){var o;return"Unknown"===t?{fieldValue:t,field:a,children:Object(Qt.a)(ca,r),CRVIZ:{_containsGroups:!1,_searchResultCount:na(r),_addedCount:ra(r),_changedCount:oa(r),_removedCount:ia(r)}}:{fieldValue:t,field:a,children:Object(be.a)((function(t){return t.values?e(t.key,Object($t.a)(n),Object(It.a)(n),t.values):t}),r),CRVIZ:{_containsGroups:(o=r,!o.reduce((function(e,t){var a=!!t.CRVIZ&&t.CRVIZ._containsGroups;return e&&!a&&!t.values}),!0)),_searchResultCount:na(r),_addedCount:ra(r),_changedCount:oa(r),_removedCount:ia(r)}}},ca=function e(t){return t.values?Object(Qt.a)(e,t.values):[t]},la=function(e,t){var a=aa(t).entries(e),n=sa("root",null,t,a);return Object(ta.a)(n)},da=a(29),ua=a(500),pa=function e(t){return 0===t.depth?"root":t.height>0?[e(t.parent),t.data.field.path.join("."),t.data.fieldValue].join("."):t.data.uid},ha=function(e){return"viz-".concat(e)},fa=function(e){var t=e.r-e.labelSize,a=e.r,n=Math.PI/2+Math.acos(t/a),r=Math.PI/2-Math.acos(t/a),o=Object(ua.a)();return o.arc(0,0,a,n,r,!0),o.closePath(),o.toString()},ma=function(e,t,a){var n=.8*function(e){var t=e.r-e.labelSize,a=e.r,n=Math.PI/2+Math.acos(t/a)-(Math.PI/2-Math.acos(t/a));return 2*a*Math.sin(n/2)}(t),r=.8*t.labelSize,o=(e.getBBox().width,e.getBBox().height),i=100,s=t.data.fieldValue;if(o>r){var c=1-Math.abs((o-r)/o);i=Math.max(10,c*a),Object(da.a)(e).style("font-size",(function(e,t,a){return i+"%"})).text(s)}else if(o<.75*r){var l=1+Math.abs((o-r)/r);i=Math.min(125,l*a),Object(da.a)(e).style("font-size",(function(e,t,a){return i+"%"})).text(s)}if(e.getBBox().width>n){var d=Math.trunc(.75*s.length);s=s.substr(0,d)+"...",Object(da.a)(e).attr("textLength",n).attr("lengthAdjust","spacingAndGlyphs").text(s)}},ba=function(e,t){var a=t,n=e.data.CRVIZ._SEARCH_KEY;if(void 0!==e.parent)return a!==n},ga=function(e){var t=e.nodeRoot,a=(e.labelRoot,e.packedData),n=e.showNodes,r=e.hasSearch,o=e.noteIdHovered,i=e.hasNoNotes,s=e.resetNodeStyles,c=a.descendants(),l=2*(a.leaves()[0].r||0)/16*100,d=t.selectAll("g.".concat(ha("node"))).data(c,pa);d.exit().remove();var u=d.enter().append("g").classed(ha("node"),!0);u.merge(d).attr("data-key",pa).classed(ha("rootNode"),(function(e){return 0===e.depth})).classed(ha("groupingNode"),(function(e){return e.depth>0&&e.height>0})).classed(ha("containsSearchResult"),(function(e){return r&&e.data.CRVIZ._searchResultCount>0&&e.depth>0&&e.height>0})).classed(ha("containsNoSearchResult"),(function(e){return r&&0===e.data.CRVIZ._searchResultCount&&e.depth>0&&e.height>0})).classed(ha("searchResult"),(function(e){return r&&e.data.CRVIZ._isSearchResult&&e.depth>0&&0===e.height})).classed(ha("isChanged"),(function(e){return e.data.CRVIZ._isChanged&&e.depth>0&&0===e.height})).classed(ha("isAdded"),(function(e){return e.data.CRVIZ._isAdded&&e.depth>0&&0===e.height})).classed(ha("isRemoved"),(function(e){return e.data.CRVIZ._isRemoved&&e.depth>0&&0===e.height})).classed(ha("isNotNoted"),(function(e){return ba(e,o)&&i})).classed(ha("searchExcluded"),(function(e){return r&&!e.data.CRVIZ._isSearchResult&&e.depth>0&&0===e.height})).classed(ha("leafNode"),(function(e){return 0===e.height})).classed(ha("ringMenuExcluded"),(function(e,t,a){return Object(da.a)(a[t]).classed(ha("ringMenuExcluded"))&&!s})).attr("transform",(function(e){return"translate(".concat([e.x,e.y].join(","),")")})).attr("display",(function(e){return n||0!==e.height?null:"none"})).order(),d.select("circle").merge(u.append("circle")).attr("r",(function(e){return e.r}));var p=u.append("g").classed(ha("label-group"),!0),h=p.append("path"),f=p.append("text").classed(ha("label"),!0);d.select("g.".concat(ha("label-group"))).select("path").merge(h).filter((function(e){return e.labelSize})).attr("class",ha("labelShape")).attr("d",fa),d.select("g.".concat(ha("label-group"))).select("text").merge(f).filter((function(e){return e.labelSize})).style("font-size",(function(e,t,a){return 3*e.height*l+"%"})).attr("y",(function(e){return e.r-e.labelSize/2})).text((function(e){return e.data.fieldValue})).each((function(e,t,a){ma(a[t],e,3*e.height*l)}));var m=u.filter((function(e){return 1===e.height})).append("g").classed(ha("aggregation"),!0).attr("display",(function(e){return n?"none":null})),b=m.append("g").classed(ha("total-container"),!0).append("text").classed(ha("annotation-text"),!0).style("font-size",(function(e){return 3*e.height*l+"%"})).attr("x",(function(e){return 0})).attr("y",(function(e){return 0})).text((function(e){return isNaN(e.value)?"0":e.value})),g=t.selectAll("g.".concat(ha("aggregation"))).data(c,pa);return g.merge(m).attr("display",(function(e,t,a){return n||e.data.CRVIZ._containsGroups?"none":null})),g.select("g.".concat(ha("total-container"))).select("text").merge(b).text((function(e){return isNaN(e.value)?"0":e.value})),[d.merge(u)]},va=a(86),Oa=function(e,t){var a=function(e){return e.r*t.k<1};e.filter(":not(.viz-zoomMinutia)").filter((function(e){return a(e)})).classed("viz-zoomMinutia",!0),e.filter(".viz-zoomMinutia").filter((function(e){return!a(e)})).classed("viz-zoomMinutia",!1)},ja=function(e,t,a){var n=Math.min(e,t),r=n*Math.max(e/t,1),o=n*Math.max(t/e,1);return[-a.x/a.k,-a.y/a.k,(-a.x+r)/a.k,(-a.y+o)/a.k]},ya=function(e){return[e.x-e.r,e.y-e.r,e.x+e.r,e.y+e.r]},Ea=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]},Ca=function(e){var t=e.zoomRoot,a=e.transformRoot,n=e.nodes,r=(e.showNodes,e.width),o=e.height,i=e.packedData,s={zoomTo:null,zoomToTransform:null,transform:Object(va.c)(t.node())},c=Object(va.a)();c.on("zoom",(function(){var e=Ot.b;s.transform=e.transform,f(e.transform)})),t.call(c);var l=i.r,d=i.x,u=i.y,p=[Math.min(r,o)/(2*l),Math.min(r,o)/(2*i.leaves()[0].r*1.25)],h=[[d-r/2/p[0]*2,u-o/2/p[0]*2],[d+r/2/p[0]*2,u+o/2/p[0]*2]];function f(e){a.style("transform","translate(".concat(Math.floor(e.x),"px, ").concat(Math.floor(e.y),"px) scale(").concat(e.k,")"));var t=ja(r,o,e);n.filter((function(e){return Ea(t,ya(e))})).call(Oa,e)}return c.scaleExtent(p).translateExtent(h),n.classed("viz-zoomMinutia",!0),s.transform&&f(s.transform),s.zoomTo=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=2*e.r*1.25,i=Math.min(r,o)/n,s=va.b.scale(i).translate(-e.x+r/2/i,-e.y+o/2/i);c.transform(a?t.transition().duration(1e3):t,s)},s.zoomToTransform=f,s},Sa=function(e){e.nodeRoot;var t=e.tooltip;e.fields;t.style("display","block").style("position","absolute").style("transform",null).style("top","0px").style("left","0px"),t.style("display","none")},_a=a(511),wa=a(193),Na=a(475),xa=a(502),ka=a(470),Ia=a(468),Ra=a(501),Da=a(106),Aa=a(17),Fa=["#a6cee3","#3366cc","#b2df8a","#33a02c","#fb9a99","#996699","#fdbf6f","#ff7f00","#cc99ff","#6a3d9a","#ffff99","#b15928","#ffcc99","#333399"];var Ta=function(e){var t=e.legend,a=e.colorMap,n=e.toggleValue,r=t.selectAll("p.viz-legendItem").data(Object(Ia.a)(a),(function(e){return Object(jt.a)(e,1)[0]}));r.exit().remove();var o=r.enter().append("p").classed("viz-legendItem",!0);o.append("span").classed("viz-legendColor",!0),o.append("span").classed("viz-legendLabel",!0),r.merge(o).classed("viz-legendDisabled",(function(e){return e[1].disabled})),r.merge(o).select(".viz-legendColor").style("background-color",(function(e){var t=Object(jt.a)(e,2);t[0];return t[1].color})),r.merge(o).select(".viz-legendLabel").attr("title",(function(e){return Object(jt.a)(e,1)[0]})).text((function(e){return Object(jt.a)(e,1)[0]})),t.on("click.toggle",(function(){var e=Object(Ot.f)(Ot.b.target).datum();e&&n(e[0])}))},Ua=function(e){var t=Object(Ot.g)("style#coloring").data([e]),a=t.enter().append("style").attr("id","coloring"),n=e.map((function(e,t){var a=Object(jt.a)(e,2),n=(a[0],a[1]),r=n.color,o=n.className;return"\n      .viz-node circle.".concat(o," {\n        fill: ").concat(r," !important\n      }\n    ")})).join("\n");t.merge(a).html(n)},Ma=function(e){var t=e.nodes,a=e.colorMap,n=e.getValue,r=e.coloredField,o=e.isColoringGroup;t.filter((function(e){return 0===e.height})).select("circle").attr("class",(function(e){var t=a[n(e.data)]||{},r=t.disabled,i=t.className;return o||r||!i?null:i})),t.filter((function(e){return e.height>0})).classed("viz-coloredNode",(function(e){return!(a[n(e.data)]||{}).disabled&&Object(re.a)(e.data.field,r)})).select("circle").attr("class",(function(e){var t=a[n(e.data)]||{},i=t.disabled,s=t.className;return o&&Object(re.a)(e.data.field,r)&&!i&&s}))},Va=function(e){var t=e.annotations,a=e.colorMap,n=e.getValue,r=e.coloredField,o=e.isColoringGroup;t&&t.select("g.".concat(ha("total-container"))).attr("class",(function(e){var t=a[n(e.data)]||{},i=t.disabled,s=t.className;return o&&Object(re.a)(e.data.field,r)&&!i&&s}))},Ha=function(e){var t=e.legend,a=e.data,n=e.hierarchyConfig,r=e.coloredField;if(e.legendConfig,!r){t.style("display","none");var o={nodes:[],annotations:[]};return{update:function(e){var t=e.nodes;e.annotations;o.nodes=t,t.classed("viz-coloredNode",r),r||t.select("circle").attr("class",null)}}}t.style("display",null);var i=Object(_a.a)(Object(ne.a)(r.path),Object(ne.a)(["fieldValue"])),s=Object(me.a)(r,n),c=Object(wa.a)(Object(be.a)(i),Na.a,Object(he.a)(Y.a))(a),l=function(e,t){var a=Math.floor(t/e.length);if(0===a)return e;var n=Object(Ra.a)((function(t){var n=(t+e.length)/e.length,r=Object(Aa.c)(e[t%e.length]),o=Object(Aa.c)(e[(t+1)%e.length]),i=Object(Da.a)().domain([0,a]).range([r.h,o.h]),s=Object(Da.b)().exponent(5).domain([0,a]).range([r.c,100]),c=Object(Da.b)().exponent(2).domain([0,a]).range([r.l,r.l/2]),l=i(n),d=s(n),u=c(n);return Object(Aa.c)(l,d,u).toString()}),t-e.length);return Object(Vt.a)(e,n)}(Fa,c.length).map((function(e,t){return{color:e,disabled:!1,className:"legend-color-".concat(t)}})),d=Object(xa.a)(c,l),u=Object(ka.a)(d);Ua(d);var p={nodes:[]};function h(e){var a=e.nodes,n=e.annotations;p.nodes=a,a.classed("viz-coloredNode",r),r?(Ma({nodes:a,colorMap:u,getValue:i,coloredField:r,isColoringGroup:s}),Va({annotations:n,colorMap:u,getValue:i,coloredField:r,isColoringGroup:s}),Ta({legend:t,colorMap:u,toggleValue:f})):a.select("circle").attr("class",null)}function f(e){u[e].disabled=!u[e].disabled,h({nodes:p.nodes})}return{update:h,colorMap:u}},za=a(503),La=function(e,t){return[e,t].join(" ")},Za=function(e){return Math.PI/2-Math.acos((e.r-e.labelSize)/e.r)},Ba=Object(za.a)(La,(function(e,t){return e*Math.cos(t)})),Pa=Object(za.a)(La,(function(e,t){return e*Math.sin(t)})),Ka=function(e){var t=e.packedData,a=e.annotationRoot,n=t.descendants().filter((function(e){return e.depth>0&&e.height>0&&e.data.CRVIZ&&e.data.CRVIZ._addedCount+e.data.CRVIZ._changedCount+e.data.CRVIZ._removedCount>0})),r=t.leaves()[0].r||0,o=2*r/16*100,i=a.selectAll("g.".concat(ha("annotation"))).data(n,pa);i.exit().remove();var s=i.enter().append("g").classed(ha("annotation"),!0);s.merge(i).attr("data-key",pa).attr("transform",(function(e){return"translate(".concat([e.x,e.y].join(","),")")})).order();var c=s.append("g").classed(ha("change-icon-container"),!0).append("text").classed("svg-icon",!0).classed("nag",!0).style("font-size",(function(e){return 4*e.height*o+"%"})).text("\uf06a");i.select("g.".concat(ha("change-icon-container"))).select("text.svg-icon").merge(c).attr("x",(function(e){return Ba(e.r,Za(e))})).attr("y",(function(e){return Pa(e.r,Za(e))})).on("click",(function(e){var t=Object(da.b)("g.".concat(ha("annotation"),'[data-key="').concat(pa(e),'"]'));t.select("g.".concat(ha("change-icon-container"))).classed(ha("annotation-hidden"),!0),t.select("g.".concat(ha("change-icon-container"))).select("text.nag").classed("nag",!1),t.select("g.".concat(ha("ring-menu"))).classed(ha("annotation-hidden"),!1)}));var l=s.append("g").classed(ha("ring-menu"),!0).classed(ha("annotation-hidden"),!0),d=l.append("circle").classed(ha("bg-circle"),!0).attr("r",(function(e){return 18*e.height*r}));i.select("g.".concat(ha("ring-menu"))).select("circle").merge(d).attr("cx",(function(e){return Ba(e.r,Za(e))})).attr("cy",(function(e){return Pa(e.r,Za(e))}));var u=l.append("text").classed("svg-icon",!0).style("font-size",(function(e){return 3*e.height*o+"%"})).text("\uf00d");i.select("g.".concat(ha("ring-menu"))).select("text.svg-icon").merge(u).attr("x",(function(e){return Ba(e.r,Za(e))})).attr("y",(function(e){return Pa(e.r,Za(e))})).on("click",(function(e){var t=Object(da.b)("g.".concat(ha("annotation"),'[data-key="').concat(pa(e),'"]'));t.select("g.".concat(ha("change-icon-container"))).classed(ha("annotation-hidden"),!1),t.select("g.".concat(ha("ring-menu"))).classed(ha("annotation-hidden"),!0)}));var p=l.append("g").classed(ha("total-container"),!0);p.append("g").classed(ha("node"),!0).append("circle").attr("r",(function(e){return 2*e.height*r})).attr("cx",(function(e){return Ba(e.r,Za(e))-0*e.height*r})).attr("cy",(function(e){return Pa(e.r,Za(e))-10*e.height*r})),i.select("g.".concat(ha("total-container"))).merge(p).on("click",(function(e,t,a){var n=pa(e),r=Object(da.a)(a[t]).select("g.".concat(ha("node"))),o=r.classed(ha("ringMenuExcluded")),i=Object(da.b)("g.".concat(ha("node"))).filter((function(e){return-1!==e.ancestors().findIndex((function(e){return pa(e)===n}))})).filter((function(e,t,a){var n=Object(da.a)(a[t]);return!n.classed(ha("isAdded"))&&!n.classed(ha("isChanged"))&&!n.classed(ha("isRemoved"))&&!n.classed(ha("groupingNode"))}));i.empty()||(r.classed(ha("ringMenuExcluded"),!o),i.classed(ha("ringMenuExcluded"),!o))}));var h=p.append("text").classed(ha("annotation-text"),!0).style("font-size",(function(e){return 2*e.height*o+"%"})).attr("x",(function(e){return Ba(e.r,Za(e))+7*e.height*r})).attr("y",(function(e){return Pa(e.r,Za(e))-10*e.height*r}));i.select("g.".concat(ha("total-container"))).select("text").merge(h).text((function(e){return isNaN(e.value)?"0":e.value}));var f=l.append("g").classed(ha("added-container"),!0);f.append("g").classed(ha("isAdded-fixed"),!0).append("circle").attr("r",(function(e){return 2*e.height*r})).attr("cx",(function(e){return Ba(e.r,Za(e))-13.5*e.height*r})).attr("cy",(function(e){return Pa(e.r,Za(e))})),i.select("g.".concat(ha("added-container"))).merge(f).on("click",(function(e,t,a){var n=pa(e),r=Object(da.a)(a[t]).select("g.".concat(ha("isAdded-fixed"))),o=r.classed(ha("ringMenuExcluded")),i=Object(da.b)("g.".concat(ha("isAdded-fixed"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return pa(e)===n}))})),s=Object(da.b)("g.".concat(ha("isAdded"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return pa(e)===n}))}));s.empty()||(r.classed(ha("ringMenuExcluded"),!o),i.classed(ha("ringMenuExcluded"),!o),s.classed(ha("ringMenuExcluded"),!o))}));var m=f.append("text").classed(ha("annotation-text"),!0).style("font-size",(function(e){return 2*e.height*o+"%"})).attr("x",(function(e){return Ba(e.r,Za(e))-7.5*e.height*r})).attr("y",(function(e){return Pa(e.r,Za(e))}));i.select("g.".concat(ha("added-container"))).select("text").merge(m).text((function(e){return isNaN(e.data.CRVIZ._addedCount)?"0":e.data.CRVIZ._addedCount}));var b=l.append("g").classed(ha("changed-container"),!0);b.append("g").classed(ha("isChanged-fixed"),!0).append("circle").attr("r",(function(e){return 2*e.height*r})).attr("cx",(function(e){return Ba(e.r,Za(e))-0*e.height*r})).attr("cy",(function(e){return Pa(e.r,Za(e))+10*e.height*r})),i.select("g.".concat(ha("changed-container"))).merge(b).on("click",(function(e,t,a){var n=pa(e),r=Object(da.a)(a[t]).select("g.".concat(ha("isChanged-fixed"))),o=r.classed(ha("ringMenuExcluded")),i=Object(da.b)("g.".concat(ha("isChanged-fixed"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return pa(e)===n}))})),s=Object(da.b)("g.".concat(ha("isChanged"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return pa(e)===n}))}));s.empty()||(r.classed(ha("ringMenuExcluded"),!o),i.classed(ha("ringMenuExcluded"),!o),s.classed(ha("ringMenuExcluded"),!o))}));var g=b.append("text").classed(ha("annotation-text"),!0).style("font-size",(function(e){return 2*e.height*o+"%"})).attr("x",(function(e){return Ba(e.r,Za(e))+7*e.height*r})).attr("y",(function(e){return Pa(e.r,Za(e))+10*e.height*r}));i.select("g.".concat(ha("changed-container"))).select("text").merge(g).text((function(e){return isNaN(e.data.CRVIZ._changedCount)?"0":+e.data.CRVIZ._changedCount}));var v=l.append("g").classed(ha("removed-container"),!0);v.append("g").classed(ha("isRemoved-fixed"),!0).append("circle").attr("r",(function(e){return 2*e.height*r})).attr("cx",(function(e){return Ba(e.r,Za(e))+7.5*e.height*r})).attr("cy",(function(e){return Pa(e.r,Za(e))})),i.select("g.".concat(ha("removed-container"))).merge(v).on("click",(function(e,t,a){var n=pa(e),r=Object(da.a)(a[t]).select("g.".concat(ha("isRemoved-fixed"))),o=r.classed(ha("ringMenuExcluded")),i=Object(da.b)("g.".concat(ha("isRemoved-fixed"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return pa(e)===n}))})),s=Object(da.b)("g.".concat(ha("isRemoved"))).filter((function(e){return!!e&&-1!==e.ancestors().findIndex((function(e){return pa(e)===n}))}));s.empty()||(r.classed(ha("ringMenuExcluded"),!o),i.classed(ha("ringMenuExcluded"),!o),s.classed(ha("ringMenuExcluded"),!o))}));var O=v.append("text").classed(ha("annotation-text"),!0).style("font-size",(function(e){return 2*e.height*o+"%"})).attr("x",(function(e){return Ba(e.r,Za(e))+14*e.height*r})).attr("y",(function(e){return Pa(e.r,Za(e))}));return i.select("g.".concat(ha("removed-container"))).select("text").merge(O).text((function(e){return isNaN(e.data.CRVIZ._removedCount)?"0":e.data.CRVIZ._removedCount})),i.merge(s)};var qa=function(e,t,a){return Object(St.a)(Object(be.a)(_t.a,e))(t,a)},Ga=function(e,t){return la(e,t).count().sort(Wa([function(e,t){return"Unknown"===e.data.fieldValue?"Unknown"===t.data.fieldValue?0:1:"Unknown"===t.data.fieldValue?-1:0},function(e,t){return(t.value||0)-(e.value||0)},function(e,t){return(e.data.fieldValue||"").localeCompare(t.data.fieldValue||"")}]))},Wa=function(e){return function(t,a){return Object(wt.a)((function(e){return 0===e}),(function(e,n){return n(t,a)}),0,e)}},Xa=function(e,t){var a=Object(Nt.a)(e.ancestors());return Object(xt.a)((function(e,t){return function(e,t){return Object(W.a)(Object(ae.a)(pa,t),e.children||[])}(e,t)||Object(kt.a)(e)}),t,Object(It.a)(a))},Ya=function(e){var t=Object(Ot.f)(e),a=t.append("div").attr("data-node","zoomRoot").style("position","relative").style("width","100%").style("height","100%");t.style("position","relative");var n=a.append("div").attr("data-node","transformRoot").style("position","absolute").style("top",0).style("left",0).style("width","100%").style("height","100%").style("transform-origin","top left"),r=a.append("svg").style("position","absolute").style("pointer-events","none").style("top",0).style("left",0).style("width","100%").style("height","100%"),o=n.append("svg").style("overflow","visible").attr("class","nodeRoot"),i=t.append("div").classed("viz-tooltip",!0),s=t.append("div").classed("viz-legend",!0),c=o.append("g"),l=o.append("g").attr("class","annotation-root"),d={hierarchyConfig:null,data:null,fields:null,width:e.clientWidth,height:e.clientHeight,showNodes:!0,coloredField:null,queryString:""},u={packedData:null,nodes:null,annotations:null,labels:null,countLabels:null,zoom:null,selectedNode:null,legend:null};function p(t){t=Object(ge.a)({},t,{width:e.clientWidth,height:e.clientHeight,hasSearch:t.hasSearch});var a=!qa(["hierarchyConfig","data","fields","queryString"],d,t),n=!qa(["width","height"],d,t),r=!qa(["coloredField","hierarchyConfig","data"],d,t);d=t,a&&(h(d,u),g(d,u)),f(d,u),r?m(d,u):u.legend&&u.legend.update({nodes:u.nodes}),(n||a)&&b(d,u)}new yt.ResizeSensor(e,Ct()((function(){return p(d)}),100));var h=function(e,t){var a=Ga(e.data,e.hierarchyConfig),n=Jt().size([e.width,e.height]),r=n(a).leaves()[0].r;n.padding((function(e){return r*e.height})),t.packedData=n(a)},f=function(e,t){var a=ga({nodeRoot:c,labelRoot:r,packedData:t.packedData,showNodes:e.showNodes,hasSearch:""!==e.queryString,noteIdHovered:e.noteIdHovered,hasNoNotes:e.hoverStatus,resetNodeStyles:e.resetNodeStyles}),n=Object(jt.a)(a,1)[0];Sa({tooltip:i,fields:e.fields,nodeRoot:c}),t.nodes=n},m=function(e,t){t.legend=Ha({legend:s,hierarchyConfig:e.hierarchyConfig,data:e.data,coloredField:e.coloredField}),null!=t.legend&&t.legend.update({nodes:t.nodes,annotations:t.annotations})},b=function(e,t){t.zoom=Ca({zoomRoot:a,transformRoot:n,nodes:t.nodes,width:e.width,height:e.height,packedData:t.packedData});var r=!0;if(t.selectedNode){var o=Xa(t.selectedNode,t.packedData);t.selectedNode=o,r=!1}else t.selectedNode=t.packedData;t.zoom.zoomTo(t.selectedNode,r),c.on("click.select",(function(){var a=Object(Ot.f)(Ot.b.target).datum();void 0!==a.data&&e.sendData(a.data);var n=a;0===a.height&&a.parent&&(n=a.parent),t.selectedNode=a,t.zoom.zoomTo(n)}))},g=function(e,t){t.annotations=Ka({packedData:t.packedData,annotationRoot:l})};return{update:p}},Ja=a(252),Qa=a.n(Ja),$a=[],en=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=i.a.findDOMNode(Object(vt.a)(a));Object(Ot.f)(e).on("click",(function(){$a=Object(Ot.d)(this)})),a.props.setPosition($a)},a.getData=function(e){a.props.setSelectedDatum(e)},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=i.a.findDOMNode(this);this.viz=Ya(e),this.updateFromProps()}},{key:"updateFromProps",value:function(){this.viz.update({hierarchyConfig:this.props.controls.hierarchyConfig,fields:this.props.configuration.fields||[],showNodes:this.props.controls.shouldShowNodes,coloredField:this.props.controls.colorBy,data:this.props.dataset||[],queryString:this.props.queryString,position:this.props.position,sendData:this.getData,noteIdHovered:this.props.noteIdHovered,notes:this.props.notes,hoverStatus:this.props.hoverStatus,resetNodeStyles:this.props.resetNodeStyles})}},{key:"componentDidUpdate",value:function(){this.updateFromProps()}},{key:"render",value:function(){return r.a.createElement("div",{onClick:this.onClick,className:Qa.a.viz})}}]),t}(r.a.PureComponent),tn=Object(s.b)((function(e,t){return{dataset:Object(E.k)(e,t.startUid,t.endUid),configuration:Object(E.m)(e),controls:Object(C.e)(e),queryString:Object(w.c)(e),position:Object(C.c)(e),noteIdHovered:Object(S.d)(e),notes:Object(S.f)(e),hoverStatus:Object(S.e)(e)}}),(function(e){return{setPosition:function(t){return e(Object(C.i)(t))},setSelectedDatum:function(t){return e(Object(C.j)(t))}}}))(en),an=a(76),nn=a(507),rn=a(508),on=Object(N.a)("START_REFRESH_DATASET"),sn=Object(N.a)("STOP_REFRESH_DATASET"),cn=function(e,t){return e.pipe(Object(De.a)(on.toString()),Object(R.a)(500),Object(I.a)((function(t){var a=t.payload.owner,n=t.payload.url,r=t.payload.header,o=1e3*t.payload.interval;return Object(nn.a)(0,o).pipe(Object(I.a)((function(){return Object(x.a)(Object(E.t)({owner:a,isFetching:!0}),Object(an.c)({owner:a,url:n,header:r}))})),Object(rn.a)(e.ofType(sn.toString())))})))};var ln=Object(Je.a)("url"),dn=function(e){var t=e.className,a=e.selected,n=e.datasets,o=e.onChange;return r.a.createElement("div",{className:t},r.a.createElement("label",{className:"select"},r.a.createElement("select",{onChange:function(e){return o(Object(W.a)(ln(e.target.value),n))},value:Object(X.a)(a)?"":a.url},r.a.createElement("option",{value:""},"\u2014None\u2014"),n.map((function(e){return r.a.createElement("option",{key:e.url,value:e.url},e.name)})))))};var un=function(e){var t=e.className,a=e.selected,n=e.onChange,o="file-input-"+e.ownerUuid;return r.a.createElement("span",{className:t},r.a.createElement("input",{type:"file",id:o,value:"",style:{display:"none"},onChange:function(e){return n(e.target.files[0])}}),r.a.createElement("span",null,Object(X.a)(a)?"No file selected":a),r.a.createElement("label",{htmlFor:o,className:"button circular",title:"Upload data from file"},r.a.createElement(j.a,{icon:y.x})))};var pn=function(e){var t=e.className,a=e.selected,n=e.url,o=e.disabled;return r.a.createElement("span",{className:t},r.a.createElement("a",{className:"button circular",href:n,download:a+".json",title:"Download",disabled:o},r.a.createElement(j.a,{icon:y.h})))};var hn=function(e){var t=e.className,a=e.onClick,n=e.disabled;return r.a.createElement("span",{className:t},r.a.createElement("div",{className:"button circular",disabled:n,title:"Refresh",onClick:function(){return a()}},r.a.createElement(j.a,{icon:y.p})))};var fn=function(e){var t=e.className,a=e.interval,n=e.timerIsRunning,o=e.disabled,i=e.onIntervalChange,s=e.onStartClick,c=e.onStopClick;return r.a.createElement("span",{className:t},r.a.createElement("input",{type:"text",title:"Refresh interval in seconds",value:a,onChange:function(e){return i(e.target.value)}}),!n&&r.a.createElement("div",{className:"button circular",disabled:o,title:"Start Refresh Timer",onClick:function(){return s()}},r.a.createElement(j.a,{icon:y.t})),n&&r.a.createElement("div",{className:"button circular",disabled:o,title:"Stop Refresh Timer",onClick:function(){return c()}},r.a.createElement(j.a,{icon:y.s})))},mn=a(253),bn=a.n(mn),gn=function(e,t,a,n,r){var o={};return e&&(o.datasets=vn(e)),t&&(o.keyFields=t),a&&(o.ignoredFields=a),n&&(o.controls=n),r&&(o.notes=r),o},vn=function(e){var t=bn()(e);return Object.keys(t).forEach((function(e){t[e].dataset.forEach((function(e){delete e.CRVIZ}))})),t},On=a(27),jn=a.n(On),yn={name:"Custom URL",url:"custom-url"},En={name:"Upload Dataset",url:"upload-dataset"},Cn=[{name:"-None-",scheme:"None"},{name:"Username\\Password",scheme:"Basic"},{name:"Token",scheme:"Bearer"}];g.a.setAppElement("#root");var Sn=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).resetDataset=function(){a.props.setDataset({dataset:[],owner:a.props.uuid,source:null,name:"",shortName:"",configuration:{}}),a.setState({selected:null,selectedFile:null})},a.fetchAndSetDataset=function(e,t,n,r,o){a.props.showBusy(!0),a.props.setIsFetching({owner:a.props.uuid,isFetching:!0});var i=Object(an.a)(n,r,o);_n(e)?a.props.fetchDataset({owner:a.props.uuid,name:a.props.name,shortName:a.props.shortName,url:e,header:i}):a.props.setError(new Error("Please enter a valid URL."))},a.onSelected=function(e){if(Object(X.a)(e))return a.resetDataset();a.props.removeDataset({owner:a.props.uuid}),a.props.removeSearchIndex({owner:a.props.uuid}),a.props.stopRefresh();var t=e===yn,n=e===En;if(a.setState({showUrlEntry:t,showUpload:n,url:"",authScheme:null,token:"",username:"",password:"",selected:e,selectedFile:null,refreshInterval:0,refreshTimerRunning:!1}),!t&&!n){var r=e.url;a.fetchAndSetDataset(r,e,null,null,null),a.setStartOrEnd(a.props.uuid)}},a.onUpload=function(e){a.setState({selectedFile:e,refreshInterval:0,refreshTimerRunning:!1})},a.onUrlChange=function(e){a.setState({url:e.target.value})},a.onTokenChange=function(e){a.setState({token:e.target.value})},a.onUsernameChange=function(e){a.setState({username:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.onUrlOk=function(){a.setState({showUrlEntry:!1});var e=a.state.selected;if(!Object(X.a)(a.state.url)){var t=a.state.url;e.url=t,a.fetchAndSetDataset(t,e,a.state.username,a.state.password,a.state.token),a.setStartOrEnd(a.props.uuid)}},a.onUrlCancel=function(){a.setState({showUrlEntry:!1,url:"",authScheme:"",token:"",username:"",password:""})},a.onUploadOk=function(){a.state.selectedFile&&(a.props.showBusy(!0),a.props.uploadDataset({owner:a.props.uuid,name:a.props.name,shortName:a.props.shortName,file:a.state.selectedFile,includeData:!0,includeControls:!1}),a.props.stopRefresh(),a.setState({showUpload:!1}),a.setStartOrEnd(a.props.uuid))},a.setStartOrEnd=function(e){a.props.controls.start?a.props.controls.end||a.props.setEndDataset(e):a.props.setStartDataset(e)},a.onUploadCancel=function(){a.setState({selectedFile:null,showUpload:!1})},a.getDownloadUrl=function(){var e=a.props.fullDatasets,t=a.props.controls,n=a.props.keyFields,r=a.props.ignoredFields,o=a.props.notes,i=window.URL||window.webkitURL||window,s=JSON.stringify(gn(e,n,r,t,o),null,2),c=new Blob([s],{type:"application/json"});return i.createObjectURL(c)},a.onRefresh=function(){var e=a.state.selected.url,t=a.state.selected;a.fetchAndSetDataset(e,t,a.state.username,a.state.password,a.state.token)},a.onTimedRefreshStart=function(){a.props.setIsFetching({owner:a.props.uuid,isFetching:!0}),a.setState({refreshTimerRunning:!0});var e=Object(an.a)(a.state.username,a.state.password,a.state.token),t=a.state.selected.url,n=a.state.refreshInterval;a.props.startRefresh({owner:a.props.uuid,url:t,header:e,interval:n})},a.onTimedRefreshStop=function(){a.setState({refreshTimerRunning:!1}),a.props.stopRefresh()},a.removeDatasetEntry=function(){a.props.removeDatasetEntry(a.props.uuid)},a.onTimedRefreshIntervalChanged=function(e){var t=parseInt(e,10);isNaN(t)?e||a.setState({refreshInterval:null}):a.setState({refreshInterval:t})};var n=e.initialDataSource,r=n?new URL(n.url):null,o=!!r&&"https:"===r.protocol,i=o?"Basic":"";return a.state={dataset:null,selected:n,selectedFile:null,showUrlEntry:o,showUpload:!1,url:r?r.href:"",authScheme:i,token:"",username:"",password:"",refreshInterval:0,refreshTimerRunning:!1},a.datasets=[].concat(Object(ot.a)(a.props.datasets),[yn,En]),n&&a.datasets.push(n),n&&!o&&a.fetchAndSetDataset(n.url,n,null,null,null),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selected&&!this.state.selectedFile,a=this.state.selected&&!Object(X.a)(this.state.selected.url)&&!this.state.selectedFile,n=null;try{n=new URL(this.props.source)}catch(o){if(!(o instanceof TypeError))throw o;n=null}return r.a.createElement("div",{className:jn.a.dataControls},r.a.createElement("div",{key:this.props.uuid+"_label",className:jn.a.dataControlHeader},this.props.name,this.props.removable&&r.a.createElement(j.a,{icon:y.n,onClick:this.removeDatasetEntry})),r.a.createElement("div",{className:jn.a.selectorContainer},r.a.createElement("span",{className:jn.a.label},"Dataset"),r.a.createElement(dn,{className:jn.a.selector,selected:this.state.selected,onChange:this.onSelected,datasets:this.datasets,source:this.props.source})),r.a.createElement("div",{className:jn.a.datasetSourceContainer},this.props.source&&r.a.createElement("span",null,"Source:\xa0",n&&r.a.createElement("a",{href:n},this.props.source),!n&&this.props.source)),r.a.createElement("div",{className:jn.a.utilityContainer},t&&r.a.createElement(pn,{className:jn.a.fileDownload,selected:this.state.selected.name,url:this.getDownloadUrl(),disabled:this.props.isFetching}),a&&r.a.createElement("div",{className:jn.a.urlRefreshContainer},r.a.createElement(hn,{className:jn.a.urlRefresh,onClick:this.onRefresh,disabled:this.props.isFetching}),r.a.createElement(fn,{className:jn.a.urlRefresh,interval:this.state.refreshInterval,timerIsRunning:this.state.refreshTimerRunning,disabled:this.props.isFetching,onIntervalChange:this.onTimedRefreshIntervalChanged,onStartClick:this.onTimedRefreshStart,onStopClick:this.onTimedRefreshStop}))),r.a.createElement("div",{className:jn.a.urlRefreshTime},a&&this.props.isFetching&&r.a.createElement("span",null,r.a.createElement(j.a,{className:"fa-spin",icon:y.f})," Fetching Data..."),a&&!this.props.isFetching&&r.a.createElement("span",null,"Last Updated: ",this.props.lastUpdated?(this.props.lastUpdated.toLocaleDateString()||"")+" "+(this.props.lastUpdated.toLocaleTimeString()||""):"Never")),r.a.createElement(g.a,{isOpen:this.state.showUrlEntry,onRequestClose:this.onUrlCancel,contentLabel:"Enter a Url"},r.a.createElement("div",{className:jn.a.modal},r.a.createElement("div",{className:jn.a.modalMain},r.a.createElement("span",null,r.a.createElement("label",null," URL "),r.a.createElement("input",{type:"text",value:this.state.url,onChange:this.onUrlChange})),r.a.createElement("span",null,r.a.createElement("label",null," AuthType "),r.a.createElement("label",{className:"select"},r.a.createElement("select",{onChange:function(t){return e.setState({authScheme:t.target.value})},value:Object(X.a)(this.state.authScheme)?"":this.state.authScheme},Cn.map((function(e){return r.a.createElement("option",{key:e.scheme,value:e.scheme},e.name)}))))),"Bearer"===this.state.authScheme&&r.a.createElement("span",null,r.a.createElement("label",null," Token "),r.a.createElement("input",{type:"text",value:this.state.Token,onChange:this.onTokenChange})),"Basic"===this.state.authScheme&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("label",null," Username "),r.a.createElement("input",{type:"text",value:this.state.userName,onChange:this.onUsernameChange})),r.a.createElement("span",null,r.a.createElement("label",null," Password "),r.a.createElement("input",{type:"password",value:this.state.password,onChange:this.onPasswordChange}))),r.a.createElement("div",null,r.a.createElement("span",{className:jn.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Ok",onClick:this.onUrlOk},r.a.createElement(j.a,{icon:y.e})),r.a.createElement("div",{className:"button circular",title:"Cancel",onClick:this.onUrlCancel},r.a.createElement(j.a,{icon:y.u}))))))),r.a.createElement(g.a,{isOpen:this.state.showUpload,onRequestClose:this.onUploadCancel,contentLabel:"Upload a File"},r.a.createElement("div",{className:jn.a.modal},r.a.createElement("div",{className:jn.a.modalMain},r.a.createElement("div",{className:jn.a.uploadContainer},r.a.createElement("span",{className:jn.a.label},"Upload"),r.a.createElement(un,{ownerUuid:this.props.uuid,className:jn.a.fileUpload,selected:this.state.selectedFile?this.state.selectedFile.name:null,onChange:this.onUpload})),r.a.createElement("span",{className:jn.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Ok",onClick:this.onUploadOk},r.a.createElement(j.a,{icon:y.e})),r.a.createElement("div",{className:"button circular",title:"Cancel",onClick:this.onUploadCancel},r.a.createElement(j.a,{icon:y.u})))))))}}]),t}(r.a.Component),_n=function(e){try{return new URL(e)}catch(t){if(t instanceof TypeError)return null;throw t}};Sn.defaultProps={uuid:Object(v.a)(),datasets:[],dataset:null,hierarchyConfig:[],configHasChanged:!1,isFetching:!1,lastUpdated:new Date};var wn={fetchDataset:an.c,uploadDataset:T,setDataset:E.o,setStartDataset:C.k,setEndDataset:C.g,selectDataset:E.j,removeDataset:E.i,removeSearchIndex:w.f,getIsFetching:E.f,setIsFetching:E.t,showNodes:C.m,setHierarchyConfig:C.h,colorBy:C.a,startRefresh:on,stopRefresh:sn,setError:_.d,showBusy:C.l},Nn=Object(s.b)((function(e,t){var a=t.uuid,n=Object(E.l)(e);return{dataset:a in n?n[a].dataset:[],source:a in n?n[a].source:null,isFetching:Object(E.f)(e,a),lastUpdated:Object(E.h)(e,a),fullDatasets:n,controls:Object(C.e)(e),keyFields:Object(E.g)(e),ignoredFields:Object(E.e)(e),notes:Object(S.c)(e)}}),wn)(Sn),xn=a(115),kn={position:"absolute",width:"100%",height:42,transform:"translate(0%, -50%)",borderRadius:7,cursor:"pointer"},In={position:"absolute",width:"100%",height:14,transform:"translate(0%, -50%)",borderRadius:7,pointerEvents:"none",backgroundColor:"rgb(155,155,155)"};function Rn(e){var t=e.getRailProps;return r.a.createElement(n.Fragment,null,r.a.createElement("div",Object.assign({style:kn},t())),r.a.createElement("div",{style:In}))}function Dn(e){var t=Object(jt.a)(e.domain,2),a=t[0],o=t[1],i=e.handle,s=i.id,c=i.value,l=i.percent,d=e.disabled,u=e.getHandleProps;return r.a.createElement(n.Fragment,null,r.a.createElement("div",Object.assign({style:{left:"".concat(l,"%"),position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:5,width:28,height:42,cursor:"pointer",backgroundColor:"none"}},u(s))),r.a.createElement("div",{role:"slider","aria-valuemin":a,"aria-valuemax":o,"aria-valuenow":c,style:{left:"".concat(l,"%"),position:"absolute",transform:"translate(-50%, -50%)",zIndex:2,width:24,height:24,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.3)",backgroundColor:d?"#666":"#0277BD"}}))}function An(e){var t=e.source,a=e.target,n=e.getTrackProps,o=e.disabled;return r.a.createElement("div",Object.assign({style:{position:"absolute",transform:"translate(0%, -50%)",height:14,zIndex:1,backgroundColor:o?"#999":"#014065",borderRadius:7,cursor:"pointer",left:"".concat(t.percent,"%"),width:"".concat(a.percent-t.percent,"%")}},n()))}function Fn(e){var t=e.tick,a=e.count,n=e.format;return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",marginTop:14,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:"".concat(t.percent,"%")}}),r.a.createElement("div",{style:{position:"absolute",marginTop:22,fontSize:10,textAlign:"center",marginLeft:"".concat(-100/a/2,"%"),width:"".concat(100/a,"%"),left:"".concat(t.percent,"%")}},n(t.value)))}Dn.defaultProps={disabled:!1},An.defaultProps={disabled:!1},Fn.defaultProps={format:function(e){return e}};var Tn=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={start:null,end:null,labelMode:"long"},a.onDragEnter=function(e){e.preventDefault()},a.onDragOver=function(e){e.preventDefault()},a.onDragStart=function(e){var t=e.target.dataset.slider;e.dataTransfer.setData("text/plain",t)},a.onDrop=function(e){e.preventDefault();var t=e.dataTransfer.getData("text/plain"),n=Number(e.target.dataset.slot),r=a.props.points;isNaN(n)||("min"===t?a.props.setStartUuid(r[n]):"max"===t&&a.props.setEndUuid(r[n]))},a.onSlotClick=function(e){var t=Number(e.target.dataset.slot);if(!isNaN(t)){var n=a.props.points;-1===n.indexOf(a.props.startUuid)?a.props.setStartUuid(n[t]):-1===n.indexOf(a.props.endUuid)&&a.props.setEndUuid(n[t])}},a.onHandleClick=function(e){},a.onUpdate=function(e){},a.onChange=function(e){var t=e.length>1?a.props.points[e[0]]:null,n=e.length>1?a.props.points[e[1]]:a.props.points[e[0]];t&&a.props.setStartUuid(t.owner),n&&a.props.setEndUuid(n.owner)},a.formatTicks=function(e){return a.props.points&&a.props.points[e]?a.props.points[e].shortName:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.points,a=this.props.startUuid,n=this.props.endUuid,o=[0,Math.max(t.length-1,.1)],i=[t.findIndex((function(e){return e.owner===a})),t.findIndex((function(e){return e.owner===n}))];return r.a.createElement("div",{style:{margin:"10%",height:60}},r.a.createElement(xn.c,{mode:1,step:1,domain:o,rootStyle:{position:"relative",width:"100%"},onUpdate:this.onUpdate,onChange:this.onChange,values:i},r.a.createElement(xn.b,null,(function(e){var t=e.getRailProps;return r.a.createElement(Rn,{getRailProps:t})})),r.a.createElement(xn.a,null,(function(e){var t=e.handles,a=e.getHandleProps;return r.a.createElement("div",{className:"slider-handles"},t.map((function(e){return r.a.createElement(Dn,{key:e.id,handle:e,domain:o,getHandleProps:a})})))})),r.a.createElement(xn.e,{left:!1,right:!1},(function(e){var t=e.tracks,a=e.getTrackProps;return r.a.createElement("div",{className:"slider-tracks"},t.map((function(e){var t=e.id,n=e.source,o=e.target;return r.a.createElement(An,{key:t,source:n,target:o,getTrackProps:a})})))})),r.a.createElement(xn.d,{count:t.length},(function(t){var a=t.ticks;return r.a.createElement("div",{className:"slider-ticks"},a.map((function(t){return r.a.createElement(Fn,{key:t.id,tick:t,count:a.length,format:e.formatTicks})})))}))))}}]),t}(r.a.Component),Un=Object(s.b)(null,null)(Tn),Mn=a(79),Vn=a.n(Mn),Hn=a(120),zn=a(5),Ln=a.n(zn),Zn=a(66),Bn=a.n(Zn),Pn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleShowHide=function(){a.setState({show:!a.state.show})},a.handleChangeTitle=function(e){var t=Object(ge.a)({},a.state.note);t.note.title=e.target.value,a.setState({note:t})},a.handleChangeContent=function(e){var t=Object(ge.a)({},a.state.note);t.note.content=e.target.value,a.setState({note:t})},a.handleLabels=function(e){a.setState({currentLabel:e.target.value})},a.toggleShowNote=function(){a.setState({showNote:!a.state.showNote})},a.toggleShowDetails=function(){a.setState({showDetails:!a.state.showDetails})},a.saveNote=Object(Hn.a)(Vn.a.mark((function e(){var t;return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(ge.a)({},a.state.note),e.next=4,a.props.data.CRVIZ._SEARCH_KEY;case 4:return t.id=e.sent,e.next=7,a.setState({note:t});case 7:return e.next=9,a.props.addNote(a.state.note);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("No search key");case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),a.removeNote=Object(Hn.a)(Vn.a.mark((function e(){var t;return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(ge.a)({},a.state.note),e.next=4,a.props.data.CRVIZ._SEARCH_KEY;case 4:t.id=e.sent,a.props.removeNote(a.state.note),a.resetBuilder(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("No note on search key");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),a.keyPressed=function(e){if("Enter"===e.key){var t=Object(ge.a)({},a.state.note);t.note.labels.push(a.state.currentLabel),a.setState({note:t}),a.setState({currentLabel:""})}},a.componentDidUpdate=function(e){if(e.data!==a.props.data){var t=Object(ge.a)({},a.state.note);t.id=a.props.data.CRVIZ._SEARCH_KEY,t.id in a.props.notes?a.setState({note:a.props.notes[t.id]}):a.resetBuilder()}},a.state=a.initialState,a.state=Object(ge.a)({},Object(vt.a)(a),{show:!0}),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"resetBuilder",value:function(){this.setState(this.initialState)}},{key:"render",value:function(){var e=this,t=this.state.showNote,a=this.state.showDetails;return r.a.createElement(r.a.Fragment,null,this.props.data&&r.a.createElement("div",{className:this.state.show?Bn.a.show:Bn.a.hide},r.a.createElement("div",null,!this.state.show&&r.a.createElement("p",{className:Bn.a.hidden},r.a.createElement(j.a,{onClick:this.handleShowHide,icon:y.b})," "),this.state.show&&r.a.createElement("p",{className:Bn.a.shown},r.a.createElement(j.a,{onClick:this.handleShowHide,icon:y.c}))),!this.props.data.fieldValue&&r.a.createElement("p",{className:Ln.a.accordionHeader,onClick:this.toggleShowDetails},"Details ",!a&&r.a.createElement(j.a,{icon:y.a}),a&&r.a.createElement(j.a,{icon:y.d})),a&&this.props.data&&!this.props.data.fieldValue&&r.a.createElement("div",{className:Bn.a.detailPanel},this.props.fields.map((function(t){return r.a.createElement("p",{className:Bn.a.detailText},r.a.createElement("b",null,t.displayName,": "),Object(ne.a)(t.path,e.props.data)," ")}))),this.props.data&&this.props.data.fieldValue&&r.a.createElement("div",{className:Bn.a.detailPanel},r.a.createElement("h3",null,this.props.data.fieldValue," ")),!this.props.data.fieldValue&&r.a.createElement("p",{className:Ln.a.accordionHeader,onClick:this.toggleShowNote},"Notes ",!t&&r.a.createElement(j.a,{icon:y.a}),t&&r.a.createElement(j.a,{onClick:this.toggleShowNote,icon:y.d})),t&&r.a.createElement("div",null,r.a.createElement("b",null,r.a.createElement("h1",null,r.a.createElement("input",{className:Bn.a.inputStyle,type:"text",value:this.state.note.note.title,onChange:this.handleChangeTitle,placeholder:"Title"}))),r.a.createElement("p",null,r.a.createElement("textarea",{className:Bn.a.inputStyle,type:"text",value:this.state.note.note.content,onChange:this.handleChangeContent,placeholder:"Take a note..."})),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("label",{className:"button circular",onClick:this.saveNote},r.a.createElement(j.a,{style:{margin:"2.5px"},icon:y.q})),r.a.createElement("label",{className:"button circular",onClick:this.removeNote},r.a.createElement(j.a,{style:{margin:"2.5px"},icon:y.w}))))))}},{key:"initialState",get:function(){return{label:"Labels",height:"200px",width:"300px",position:[200,200],currentLabel:"",showNote:!1,showDetails:!0,note:{id:"",note:{title:"",labels:[],content:""}}}}}]),t}(r.a.Component),Kn={addNote:S.a,removeNote:S.g},qn=Object(s.b)((function(e){return{position:Object(C.c)(e),data:Object(C.d)(e),notes:Object(S.f)(e),fields:Object(E.m)(e).fields}}),Kn)(Pn),Gn=a(254);g.a.setAppElement("#root");var Wn={action:"",data:!0,controls:!0,notes:!0},Xn=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).componentDidUpdate=function(e){a.state.resetNodeStyles&&a.setState({resetNodeStyles:!1})},a.toggleShowData=function(){a.setState({showData:!a.state.showData,showComparison:!1,showNotes:!1,showGrouping:!1,showFiltering:!1})},a.toggleShowComparison=function(){a.setState({showData:!1,showComparison:!a.state.showComparison,showGrouping:!1,showFiltering:!1})},a.toggleShowNotes=function(){a.setState({showData:!1,showComparison:!1,showNotes:!a.state.showNotes,showGrouping:!1,showFiltering:!1})},a.toggleShowGrouping=function(){a.setState({showData:!1,showComparison:!1,showGrouping:!a.state.showGrouping,showFiltering:!1})},a.toggleShowFiltering=function(){a.setState({showData:!1,showComparison:!1,showGrouping:!1,showFiltering:!a.state.showFiltering})},a.onErrorClose=function(){a.props.clearError()},a.resetControls=function(){a.props.colorBy(null),a.props.setHierarchyConfig([]),a.props.showNodes(!0),a.setState({resetNodeStyles:!0})},a.showImportOptions=function(){a.showOptions("import")},a.showExportOptions=function(){a.showOptions("export")},a.showOptions=function(e){a.setOptions("action",e),a.setState({showOptions:!0})},a.processOptions=function(){"import"===a.state.options.action&&(a.props.showBusy(!0),a.state.selectedFile&&a.props.uploadDataset({owner:Object(v.a)(),file:a.state.selectedFile,includeData:a.state.options.data,includeControls:a.state.options.controls,includeNotes:a.state.options.notes}),a.setState({showOptions:!1}))},a.onUpload=function(e){a.setState({selectedFile:e})},a.getDownloadUrl=function(){var e=a.state.options.data&&a.props.fullDatasets,t=a.state.options.controls&&a.props.controls,n=a.state.options.notes&&a.props.notes,r=a.state.options.data&&a.props.keyFields,o=a.state.options.data&&a.props.ignoredFields,i=gn(e,r,o,t,n),s=window.URL||window.webkitURL||window,c=JSON.stringify(i,null,2),l=new Blob([c],{type:"application/json"});return s.createObjectURL(l)},a.exportNameChange=function(e){a.setState({exportName:e})},a.cancelOptions=function(){a.setState({showOptions:!1,options:Wn})},a.setOptions=function(e,t){var n=a.state.options;n[e]=t,a.setState({options:n})},a.addDatasetEntry=function(){var e=a.state.uuids,t={owner:Object(v.a)(),name:"Series "+e.length,shortName:"s"+e.length};e.push(t),a.setState({uuids:e,datasetAdded:!0})},a.removeDatasetEntry=function(e){var t=a.state.uuids;if(t.includes(e)){var n=t.splice(t.indexOf(e),1);a.setState({uuids:n})}a.props.removeSearchIndex({owner:e}),a.props.removeDataset({owner:e})},a.setStartUuid=function(e){a.setState({startUuid:e}),a.props.setStartDataset(e)},a.setEndUuid=function(e){a.setState({endUuid:e}),a.props.setEndDataset(e)};var n=new URL(window.location),r=new URLSearchParams(n.search),o=r.get("dataSourceUrl"),i={name:r.get("dataSourceName")||o||"",url:o};return a.state={showData:!0,showGrouping:!1,showFiltering:!1,uuids:[{owner:Object(v.a)(),name:"Series 0",shortName:"s0"}],datasetAdded:!1,startUuid:null,endUuid:null,showOptions:!1,options:{action:"",data:!0,controls:!0,notes:!0},selectedFile:null,exportName:"dataset.json",initialDataSource:o?i:null,resetNodeStyles:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t,a,n,o,i,s,l,d,u,p=this,h=this.props,f=h.datasetCount,b=h.darkTheme,E=h.error,C=h.lastUpdated,S=f>0,_=this.state.uuids,w=this.state.startUuid,N=this.state.endUuid,x=this.state.showData,k=this.state.showComparison,I=this.state.showNotes,R=this.state.showGrouping,D=this.state.showOptions,A=this.state.options,F=this.state.initialDataSource;return r.a.createElement("div",{className:m()((e={},Object(c.a)(e,Ln.a.appContainer,!0),Object(c.a)(e,"darkTheme",b),e))},r.a.createElement("input",{name:"hideControls",id:"hideControls",type:"checkbox"}),r.a.createElement("label",{htmlFor:"hideControls",className:Ln.a.hideControls},r.a.createElement("span",null,"<<")),r.a.createElement("div",{className:Ln.a.controls},r.a.createElement(q,null),r.a.createElement("div",{className:m()(Object(c.a)({},Ln.a.centerSpan,!0))},r.a.createElement("div",{className:"button circular",title:"Reset Controls",size:"3x",onClick:this.resetControls},r.a.createElement(j.a,{icon:y.l}))),r.a.createElement("div",{className:Ln.a.accordionHeader,onClick:this.toggleShowData},"Data  ",!x&&r.a.createElement(j.a,{icon:y.a}),x&&r.a.createElement(j.a,{onClick:this.toggleShowData,icon:y.d})),r.a.createElement("div",{className:m()((t={},Object(c.a)(t,Ln.a.section,!0),Object(c.a)(t,Ln.a.hidden,!x),t))},_.map((function(e){return r.a.createElement("div",{key:e.owner+"_container"},r.a.createElement(Nn,{uuid:e.owner,name:e.name,shortName:e.shortName,removeDatasetEntry:p.removeDatasetEntry,removable:_.length>1,datasets:Gn,initialDataSource:F}))})),r.a.createElement("span",{className:Ln.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Add Dataset",onClick:this.addDatasetEntry},r.a.createElement(j.a,{icon:y.o})))),S&&r.a.createElement("div",{className:m()((a={},Object(c.a)(a,Ln.a.section,!0),Object(c.a)(a,Ln.a.hidden,!x),a))},r.a.createElement(gt,null)),r.a.createElement("div",{className:Ln.a.accordionHeader,onClick:this.toggleShowGrouping},"Grouping  ",!R&&r.a.createElement(j.a,{icon:y.a}),R&&r.a.createElement(j.a,{onClick:this.toggleShowGrouping,icon:y.d})),S&&r.a.createElement("div",{className:m()((n={},Object(c.a)(n,Ln.a.section,!0),Object(c.a)(n,Ln.a.hierarchySection,!0),Object(c.a)(n,Ln.a.hidden,!R),n))},r.a.createElement(Re,null)),S&&r.a.createElement("div",{className:m()((o={},Object(c.a)(o,Ln.a.section,!0),Object(c.a)(o,Ln.a.hidden,!R),o))},r.a.createElement(rt,null)),!S&&r.a.createElement("div",{className:m()((i={},Object(c.a)(i,Ln.a.section,!0),Object(c.a)(i,Ln.a.dimSection,!0),Object(c.a)(i,Ln.a.hierarchySection,!0),Object(c.a)(i,Ln.a.hidden,!R),i))},"Please select a dataset to continue"),r.a.createElement("div",{className:Ln.a.accordionHeader,onClick:this.toggleShowComparison},"Comparison  ",!k&&r.a.createElement(j.a,{icon:y.a}),k&&r.a.createElement(j.a,{onClick:this.toggleShowComparison,icon:y.d})),f>=2&&r.a.createElement("div",{className:m()((s={},Object(c.a)(s,Ln.a.section,!0),Object(c.a)(s,Ln.a.hierarchySection,!0),Object(c.a)(s,Ln.a.hidden,!k),s))},r.a.createElement(Le,{startUid:w,endUid:N})),f<2&&r.a.createElement("div",{className:m()((l={},Object(c.a)(l,Ln.a.section,!0),Object(c.a)(l,Ln.a.dimSection,!0),Object(c.a)(l,Ln.a.hierarchySection,!0),Object(c.a)(l,Ln.a.hidden,!k),l))},"Please select at least 2 datasets to continue"),r.a.createElement("div",{className:Ln.a.accordionHeader,onClick:this.toggleShowNotes},"Notes  ",!I&&r.a.createElement(j.a,{icon:y.a}),I&&r.a.createElement(j.a,{onClick:this.toggleShowNotes,icon:y.d})),I&&r.a.createElement("div",null,r.a.createElement(Ge,null)),r.a.createElement("div",{className:Ln.a.footerContainer},r.a.createElement("span",{className:Ln.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Import Dataset",onClick:this.showImportOptions},r.a.createElement(j.a,{icon:y.k})),r.a.createElement("div",{className:"button circular",disabled:!S,title:"Export Dataset",onClick:this.showExportOptions},r.a.createElement(j.a,{icon:y.j}))))),0===f&&null!==C&&r.a.createElement("div",{className:Ln.a.emptyDataset},r.a.createElement("span",null,"Current dataset is empty")),r.a.createElement("div",{className:Ln.a.canvas},r.a.createElement(tn,{startUid:w,endUid:N,resetNodeStyles:this.state.resetNodeStyles})),r.a.createElement("div",{className:m()((d={},Object(c.a)(d,Ln.a.key,!0),Object(c.a)(d,Ln.a.hidden,f<2),d))},r.a.createElement("svg",{width:"100%",height:"60"},r.a.createElement("g",null,r.a.createElement("g",{className:"viz-isAdded-fixed"},r.a.createElement("circle",{cx:"15",cy:"15",r:"10"})),r.a.createElement("text",{x:"30",y:"15"},"Added")),r.a.createElement("g",null,r.a.createElement("g",{className:"viz-isChanged-fixed"},r.a.createElement("circle",{cx:"100",cy:"15",r:"10"})),r.a.createElement("text",{x:"115",y:"15"},"Changed")),r.a.createElement("g",null,r.a.createElement("g",{className:"viz-isRemoved-fixed"},r.a.createElement("circle",{cx:"200",cy:"15",r:"10"})),r.a.createElement("text",{x:"215",y:"15"},"Removed")))),r.a.createElement("div",{className:m()((u={},Object(c.a)(u,Ln.a.sliderContainer,!0),Object(c.a)(u,Ln.a.hidden,f<2),u))},r.a.createElement(Un,{points:_,startUuid:w,endUuid:N,setStartUuid:this.setStartUuid,setEndUuid:this.setEndUuid})),r.a.createElement(g.a,{isOpen:null!==E,onRequestClose:this.onErrorClose,contentLabel:"An Error has occurred"},r.a.createElement("div",{className:Ln.a.modal},r.a.createElement("div",{className:Ln.a.modalMain},r.a.createElement("span",{className:Ln.a.justifySpan},r.a.createElement("div",{className:Ln.a.icon,title:"Error"},r.a.createElement(j.a,{icon:y.g,size:"7x",color:"#cc0000"})),r.a.createElement("div",null,E?E.message:"")),r.a.createElement("div",null,r.a.createElement("span",{className:Ln.a.centerSpan},r.a.createElement("div",{className:"button circular",title:"Ok",onClick:this.onErrorClose},r.a.createElement(j.a,{icon:y.e}))))))),r.a.createElement(g.a,{isOpen:D,onRequestClose:this.cancelOptions,contentLabel:"An Error has occurred"},r.a.createElement("div",{className:Ln.a.modal},r.a.createElement("div",{className:Ln.a.modalMain},"import"===A.action&&r.a.createElement("div",{className:Ln.a.uploadContainer},r.a.createElement("span",{className:Ln.a.label},"Upload"),r.a.createElement(un,{ownerUuid:Object(v.a)(),className:Ln.a.fileUpload,selected:this.state.selectedFile?this.state.selectedFile.name:null,onChange:this.onUpload})),"export"===A.action&&r.a.createElement("div",{className:Ln.a.uploadContainer},r.a.createElement("span",{className:Ln.a.label},"Export As"),r.a.createElement("input",{type:"text",id:"export-as",value:this.state.exportName,onChange:function(e){return p.exportNameChange(e.target.value)}})),r.a.createElement("div",{className:Ln.a.container},r.a.createElement("div",{className:"".concat(Ln.a.checkboxContainer," input-group")},r.a.createElement("div",{className:Ln.a.switch},r.a.createElement("input",{type:"checkbox",id:"data-check",checked:A.data,onChange:function(e){return p.setOptions("data",e.target.checked)}}),r.a.createElement("label",{htmlFor:"data-check",className:Ln.a.switchLabel})),r.a.createElement("label",null,"Data")),r.a.createElement("div",{className:"".concat(Ln.a.checkboxContainer," input-group")},r.a.createElement("div",{className:Ln.a.switch},r.a.createElement("input",{type:"checkbox",id:"controls-check",checked:A.controls,onChange:function(e){return p.setOptions("controls",e.target.checked)}}),r.a.createElement("label",{htmlFor:"controls-check",className:Ln.a.switchLabel})),r.a.createElement("label",null,"Controls")),r.a.createElement("div",{className:"".concat(Ln.a.checkboxContainer," input-group")},r.a.createElement("div",{className:Ln.a.switch},r.a.createElement("input",{type:"checkbox",id:"notes-check",checked:A.notes,onChange:function(e){return p.setOptions("notes",e.target.checked)}}),r.a.createElement("label",{htmlFor:"notes-check",className:Ln.a.switchLabel})),r.a.createElement("label",null,"Notes"))),r.a.createElement("div",null,r.a.createElement("span",{className:Ln.a.centerSpan},"import"===A.action&&r.a.createElement("div",{className:"button circular",title:"Ok",disabled:"import"===A.action&&!this.state.selectedFile,onClick:this.processOptions},r.a.createElement(j.a,{icon:y.e})),"export"===A.action&&r.a.createElement("a",{className:"button circular",href:this.getDownloadUrl(),download:this.state.exportName,title:"Download",disabled:!S,onClick:this.cancelOptions},r.a.createElement(j.a,{icon:y.e})),r.a.createElement("div",{className:"button circular",title:"Cancel",onClick:this.cancelOptions},r.a.createElement(j.a,{icon:y.u}))))))),r.a.createElement("div",{className:Ln.a.activityIndicatorContainer},r.a.createElement(O.RingLoader,{sizeUnit:"px",size:150,color:"#0277BD",loading:this.props.shouldShowBusy})),r.a.createElement("div",null,r.a.createElement(qn,null)))}}]),t}(n.Component);Xn.getDerivedStateFromProps=function(e,t){var a=t.datasetAdded&&e.uuids.length!==t.uuids.length,n=function(e,t,a){var n=[];if(e||0===a.length){var r=new Set;a.concat(t).forEach((function(e){r.has(e.owner)||(r.add(e.owner),n.push(e))}))}else n=a;return n}(a,t.uuids,e.uuids),r=e.startUuid&&-1!==n.findIndex((function(t){return t.owner===e.startUuid}))?e.startUuid:t.startUuid,o=e.endUuid&&-1!==n.findIndex((function(t){return t.owner===e.endUuid}))?e.endUuid:t.endUuid;return{uuids:n,startUuid:r,endUuid:o,datasetAdded:a}};var Yn={clearError:_.a,setHierarchyConfig:C.h,showNodes:C.m,colorBy:C.a,removeDataset:E.i,removeSearchIndex:w.f,setStartDataset:C.k,setEndDataset:C.g,uploadDataset:T,showBusy:C.l},Jn=Object(s.b)((function(e){var t=Object(E.l)(e),a=Object.keys(t).map((function(e){return{owner:e,name:t[e].name,shortName:t[e].shortName}}))||[{owner:Object(v.a)(),name:"Series 0",shortName:"s0"}],n=a.length,r=Object(C.e)(e);return{datasetCount:n,darkTheme:r.darkTheme,error:Object(_.c)(e),lastUpdated:Object(E.h)(e,a[0]),uuids:a,startUuid:r.start,endUuid:r.end,fullDatasets:t,controls:r,notes:Object(S.c)(e),keyFields:Object(E.g)(e),ignoredFields:Object(E.e)(e),shouldShowBusy:r.showBusy}}),Yn)(Xn),Qn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $n(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var er,tr=a(44),ar=a(509),nr=a(161),rr=a(255),or=a.n(rr),ir=Object(N.a)("SET_FILTER"),sr=Object(N.a)("CLEAR_FILTER"),cr=Object(nr.a)((er={},Object(c.a)(er,ir,(function(e,t){var a=t.payload,n=null,r=!1;try{n=or()(a),r=!0}catch(o){n=null,r=!1}return Object(ge.a)({},e,{filterString:a,filter:n,isValid:r})})),Object(c.a)(er,sr,(function(e){return Object(ge.a)({},e,{filterString:"",filter:null,isValid:!1})})),er),{filterString:"",filter:null,isValid:!1}),lr=cr,dr=Object(tr.c)({dataset:E.c,search:w.g,controls:C.b,error:_.b,filter:lr,notes:S.b}),ur=a(512),pr=a(256),hr=Object(N.a)("FILTER_DATASET"),fr=function(e,t){e.filtered=null;var a=e.dataset;return null!==t&&(e.filtered=a.filter((function(e){return t(e)}))),e},mr=function(e,t){return e.ofType(hr.toString()).pipe(Object(I.a)((function(e){var a=e.payload,n=t.value.filter.filter;return null===n?Object(pr.a)():Object(x.a)(a).pipe(Object(st.a)(fr(a,n)),Object(D.a)((function(e){return Object(E.r)({owner:e.owner,filtered:e.filtered})})),Object(A.a)((function(e){var t=new Error("Error filtering dataset: "+e.message);return Object(x.a)(Object(_.d)(t))})))})))},br=Object(ur.a)(F.b,an.b,V,ut,w.b,cn,mr,Te),gr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||tr.d,vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(ar.a)(),a=Object(tr.e)(dr,e,gr(Object(tr.a)(t)));return t.run(br),a}();i.a.render(r.a.createElement(s.a,{store:vr},r.a.createElement(Jn,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/CRviz",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/CRviz","/service-worker.js");Qn?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$n(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):$n(e)}))}}()},5:function(e,t,a){e.exports={appContainer:"App_appContainer__3jRx1",controls:"App_controls__14oJX",section:"App_section__1OL6S",footerContainer:"App_footerContainer__3ckfD",dimSection:"App_dimSection__2KXnV",hierarchySection:"App_hierarchySection__20JSE",canvas:"App_canvas__1KgDx",sliderContainer:"App_sliderContainer__14eTy",hideControls:"App_hideControls__3-JKB",modal:"App_modal__Ayqb5",modalMain:"App_modalMain__2seCW",justifySpan:"App_justifySpan__39F6d",icon:"App_icon__NYH35",centerSpan:"App_centerSpan__-rZ5_",accordionHeader:"App_accordionHeader__3Xi4Q",hidden:"App_hidden__3ofBD",emptyDataset:"App_emptyDataset__29FeM",label:"App_label__v_mMj",selectorContainer:"App_selectorContainer__39_GX",selector:"App_selector__2sCEs",checkboxContainer:"App_checkboxContainer__1fO1K",switch:"App_switch__2FvpM",switchLabel:"App_switchLabel__2JZ5u","switch-inner":"App_switch-inner__ANiwX",uploadContainer:"App_uploadContainer__342xp",fileUpload:"App_fileUpload__3f4jm",activityIndicatorContainer:"App_activityIndicatorContainer__NjOjQ",key:"App_key__3Uk0T"}},58:function(e,t,a){e.exports={checkboxContainer:"MiscControls_checkboxContainer__3kBR3",colorBy:"MiscControls_colorBy__2SU5V",fieldSelect:"MiscControls_fieldSelect__38svo",switch:"MiscControls_switch__3UP8J",switchLabel:"MiscControls_switchLabel__3eKc8","switch-inner":"MiscControls_switch-inner__3WhMh",selectorContainer:"MiscControls_selectorContainer__3qDfQ",selector:"MiscControls_selector__1nfTG"}},66:function(e,t,a){e.exports={shown:"Tooltip_shown__1x1hM",hidden:"Tooltip_hidden__2CFes",show:"Tooltip_show__18BfZ",hide:"Tooltip_hide__70RqF",detailPanel:"Tooltip_detailPanel__2HY6a",detailText:"Tooltip_detailText__3Ofmt",inputStyle:"Tooltip_inputStyle__2DRWA",section:"Tooltip_section__3q14b"}},76:function(e,t,a){"use strict";(function(e){a.d(t,"c",(function(){return h})),a.d(t,"a",(function(){return f}));var n=a(16),r=a(122),o=a(95),i=a(479),s=a(473),c=a(78),l=a(65),d=a(258),u=a(36),p=a(92),h=Object(n.a)("FETCH_DATASET"),f=function(t,a,n){var r=null;switch(function(e,t,a){var n="None";return a?n="Bearer":e&&t&&(n="Basic"),n}(t,a,n)){case"Basic":r={Authorization:"Basic "+new e("".concat(t,":").concat(a)).toString("base64")};break;case"Bearer":r={Authorization:"Bearer ".concat(n)};break;default:r=null}return r};t.b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return e.pipe(Object(r.a)(h.toString()),Object(s.a)(500),Object(c.a)((function(e){var t=e.payload.owner,n=e.payload.name,r=e.payload.shortName,o=e.payload.url,i=e.payload.header;return a({url:o,headers:i,crossDomain:!0,responseType:"json"}).pipe(Object(l.a)((function(e){return{owner:t,name:n,shortName:r,source:o,content:e.response}})),Object(l.a)(p.c))})),Object(d.a)((function(e){var t=new Error("Error fetching dataset: "+e.message);return Object(o.a)(Object(u.d)(t))})))}}).call(this,a(462).Buffer)},80:function(e,t,a){e.exports={listContainer:"SelectedFieldList_listContainer__1A-lJ",isDropDisabled:"SelectedFieldList_isDropDisabled__2vQFW",droppable:"SelectedFieldList_droppable__2zu_b",draggable:"SelectedFieldList_draggable__2Cp8c",field:"SelectedFieldList_field__ZLF6f",groupBy:"SelectedFieldList_groupBy__2sKtj",animated:"SelectedFieldList_animated__39CvG",groupByEnter:"SelectedFieldList_groupByEnter__1cLtw",fieldName:"SelectedFieldList_fieldName__2G9oT",dropTarget:"SelectedFieldList_dropTarget__1J9ME",isDraggingOver:"SelectedFieldList_isDraggingOver__1k_Dr",dragHandle:"SelectedFieldList_dragHandle__2NjEJ"}},92:function(e,t,a){"use strict";a.d(t,"c",(function(){return j})),a.d(t,"a",(function(){return y}));var n=a(79),r=a.n(n),o=a(120),i=a(16),s=a(122),c=a(95),l=a(78),d=a(472),u=a(258),p=a(160),h=a(123),f=a(245),m=a(37),b=a(36),g=a(4),v=a(12),O=a(28),j=Object(i.a)("LOAD_DATASET"),y=function(e){var t=e.owner,a=e.source,n=e.file.trim().split(/[\r\n]+/g);if(n.length<2)return e;for(var r=function(e){for(var t=[",","|","\t",";"],a=0,n=-1,r=0;r<e.length;r++)n<e.split(t[r]).length-1&&(n=e.split(t[r]).length-1,a=r);return t[a]}(n[0]),o="[",i=n[0].split(r),s=1;s<n.length;s++){var c=n[s].split(r);if(c.length!==i.length)return e;o+="{ ";for(var l=0;l<i.length;l++)o+='"'+i[l]+'": "'+c[l]+'"',l<i.length-1?o+=", ":(o+=" }",s<n.length-1&&(o+=",\n"))}return{owner:t,source:a,file:o+="]"}},E=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,i,s,c,l,d,u,m,b,v,O,j,y,E;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.owner,n=t.name,o=t.shortName,i=t.source,e.next=6,Object(f.resolveRefs)(t.content);case 6:if(s=e.sent,c=s.resolved,l=c.datasets,d=c.keyFields||null,u=c.ignoredFields||null,m=c.controls||{},b=c.notes||{},v=!("includeData"in t)||t.includeData,O="includeControls"in t&&t.includeControls,j="includeNotes"in t&&t.includeNotes,y={},!l){e.next=21;break}y=l,e.next=37;break;case 21:if(Object(h.a)(c.dataset)||!Object(p.a)(Array,c.dataset)){e.next=26;break}y[a]={dataset:c.dataset},c.configuration&&(y[a].configuration=c.configuration),e.next=37;break;case 26:if(!Object(h.a)(c.dataset)||!Object(p.a)(Array,c)){e.next=30;break}y[a]={dataset:c},e.next=37;break;case 30:if(!Object(h.a)(c.dataset)){e.next=36;break}E={},Object.entries(c).forEach((function(e){var t=e[0],a=e[1];E[t]=a})),y[a]={dataset:[E]},e.next=37;break;case 36:throw C("Data in invalid format");case 37:return Object.keys(y).forEach((function(e,t){var a=y[e].dataset,r=a.name||n||"Series "+t,s=a.shortName||o||r.substr(0,1)+t,c=y[e].configuration;y[e]=Object(g.b)(a,i,r,s,c,d,u)})),t={datasets:v?y:{},keyFields:v?d:[],ignoredFields:v?u:[],controls:O?m:{},notes:j?b:{}},e.abrupt("return",t);case 41:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e){this.name="ValidationError",this.message=e}C.prototype=Object.create(Error.prototype),t.b=function(e,t){return e.pipe(Object(s.a)(j.toString()),Object(l.a)((function(e){var t=e.payload;return Object(c.a)(t).pipe(Object(d.a)(E),Object(l.a)((function(e){return Object(c.a)(Object(g.q)(e),Object(g.u)(e.keyFields),Object(g.s)(e.ignoredFields),Object(v.f)(e.controls),Object(O.i)(e.notes),Object(m.a)(e),Object(v.l)(!1))})),Object(u.a)((function(e){if(Object(p.a)(C,e))return Object(c.a)(Object(b.d)(e));throw e})))})))}},96:function(e,t,a){e.exports={header:"Header_header__15j4c",logo:"Header_logo__1XArl",appName:"Header_appName__2Yv_S",infoIcon:"Header_infoIcon__39h1E",infoPopup:"Header_infoPopup__1SjWm",tagline:"Header_tagline__3GO5z",socialContainer:"Header_socialContainer__2-vMl"}}},[[264,1,2]]]);
//# sourceMappingURL=main.ff5d48b4.chunk.js.map